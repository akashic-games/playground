import{d as mr,c as gr,l as _r,o as yr,_ as br,C as xt,D as wr,z as Mt,h as Le,y as vr}from"./index-c786b721.js";const kr=mr({__name:"BaseButton",props:{onClick:{type:Function}},setup(r){return(e,t)=>(yr(),gr("button",{class:"button-container",onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},[_r(e.$slots,"default",{},void 0,!0)]))}});const pi=br(kr,[["__scopeId","data-v-ec345b5f"],["__file","BaseButton.vue"]]);function vt(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function ke(r,e){for(var t="",o=0,s=-1,i=0,n,a=0;a<=r.length;++a){if(a<r.length)n=r.charCodeAt(a);else{if(n===47)break;n=47}if(n===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var m=t.lastIndexOf("/");if(m!==t.length-1){m===-1?(t="",o=0):(t=t.slice(0,m),o=t.length-1-t.lastIndexOf("/")),s=a,i=0;continue}}else if(t.length===2||t.length===1){t="",o=0,s=a,i=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+r.slice(s+1,a):t=r.slice(s+1,a),o=a-s-1;s=a,i=0}else n===46&&i!==-1?++i:i=-1}return t}function Er(r,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+r+o:o}var Tt={resolve:function(){for(var e="",t=!1,o,s=arguments.length-1;s>=-1&&!t;s--){var i;s>=0?i=arguments[s]:(o===void 0&&(o=process.cwd()),i=o),vt(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=ke(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(vt(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=ke(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return vt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];vt(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":Tt.normalize(e)},relative:function(e,t){if(vt(e),vt(t),e===t||(e=Tt.resolve(e),t=Tt.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var s=e.length,i=s-o,n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var a=t.length,m=a-n,g=i<m?i:m,d=-1,c=0;c<=g;++c){if(c===g){if(m>g){if(t.charCodeAt(n+c)===47)return t.slice(n+c+1);if(c===0)return t.slice(n+c)}else i>g&&(e.charCodeAt(o+c)===47?d=c:c===0&&(d=0));break}var _=e.charCodeAt(o+c),p=t.charCodeAt(n+c);if(_!==p)break;_===47&&(d=c)}var h="";for(c=o+d+1;c<=s;++c)(c===s||e.charCodeAt(c)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+t.slice(n+d):(n+=d,t.charCodeAt(n)===47&&++n,t.slice(n))},_makeLong:function(e){return e},dirname:function(e){if(vt(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,s=-1,i=!0,n=e.length-1;n>=1;--n)if(t=e.charCodeAt(n),t===47){if(!i){s=n;break}}else i=!1;return s===-1?o?"/":".":o&&s===1?"//":e.slice(0,s)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');vt(e);var o=0,s=-1,i=!0,n;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,m=-1;for(n=e.length-1;n>=0;--n){var g=e.charCodeAt(n);if(g===47){if(!i){o=n+1;break}}else m===-1&&(i=!1,m=n+1),a>=0&&(g===t.charCodeAt(a)?--a===-1&&(s=n):(a=-1,s=m))}return o===s?s=m:s===-1&&(s=e.length),e.slice(o,s)}else{for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!i){o=n+1;break}}else s===-1&&(i=!1,s=n+1);return s===-1?"":e.slice(o,s)}},extname:function(e){vt(e);for(var t=-1,o=0,s=-1,i=!0,n=0,a=e.length-1;a>=0;--a){var m=e.charCodeAt(a);if(m===47){if(!i){o=a+1;break}continue}s===-1&&(i=!1,s=a+1),m===46?t===-1?t=a:n!==1&&(n=1):t!==-1&&(n=-1)}return t===-1||s===-1||n===0||n===1&&t===s-1&&t===o+1?"":e.slice(t,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Er("/",e)},parse:function(e){vt(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),s=o===47,i;s?(t.root="/",i=1):i=0;for(var n=-1,a=0,m=-1,g=!0,d=e.length-1,c=0;d>=i;--d){if(o=e.charCodeAt(d),o===47){if(!g){a=d+1;break}continue}m===-1&&(g=!1,m=d+1),o===46?n===-1?n=d:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||m===-1||c===0||c===1&&n===m-1&&n===a+1?m!==-1&&(a===0&&s?t.base=t.name=e.slice(1,m):t.base=t.name=e.slice(a,m)):(a===0&&s?(t.name=e.slice(1,n),t.base=e.slice(1,m)):(t.name=e.slice(a,n),t.base=e.slice(a,m)),t.ext=e.slice(n,m)),a>0?t.dir=e.slice(0,a-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Tt.posix=Tt;var St=Tt,Ne={exports:{}};(function(r,e){(function(t,o){o()})(xt,function(){function t(g,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function o(g,d,c){var _=new XMLHttpRequest;_.open("GET",g),_.responseType="blob",_.onload=function(){m(_.response,d,c)},_.onerror=function(){console.error("could not download file")},_.send()}function s(g){var d=new XMLHttpRequest;d.open("HEAD",g,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(d)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof xt=="object"&&xt.global===xt?xt:void 0,a=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(g,d,c){var _=n.URL||n.webkitURL,p=document.createElement("a");d=d||g.name||"download",p.download=d,p.rel="noopener",typeof g=="string"?(p.href=g,p.origin===location.origin?i(p):s(p.href)?o(g,d,c):i(p,p.target="_blank")):(p.href=_.createObjectURL(g),setTimeout(function(){_.revokeObjectURL(p.href)},4e4),setTimeout(function(){i(p)},0))}:"msSaveOrOpenBlob"in navigator?function(g,d,c){if(d=d||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(t(g,c),d);else if(s(g))o(g,d,c);else{var _=document.createElement("a");_.href=g,_.target="_blank",setTimeout(function(){i(_)})}}:function(g,d,c,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof g=="string")return o(g,d,c);var p=g.type==="application/octet-stream",h=/constructor/i.test(n.HTMLElement)||n.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||p&&h||a)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=u?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=E:location=E,_=null},y.readAsDataURL(g)}else{var b=n.URL||n.webkitURL,v=b.createObjectURL(g);_?_.location=v:location.href=v,_=null,setTimeout(function(){b.revokeObjectURL(v)},4e4)}});n.saveAs=m.saveAs=m,r.exports=m})})(Ne);var xr=Ne.exports;function jt(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var je={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(r,e){(function(t){r.exports=t()})(function(){return function t(o,s,i){function n(g,d){if(!s[g]){if(!o[g]){var c=typeof jt=="function"&&jt;if(!d&&c)return c(g,!0);if(a)return a(g,!0);var _=new Error("Cannot find module '"+g+"'");throw _.code="MODULE_NOT_FOUND",_}var p=s[g]={exports:{}};o[g][0].call(p.exports,function(h){var u=o[g][1][h];return n(u||h)},p,p.exports,t,o,s,i)}return s[g].exports}for(var a=typeof jt=="function"&&jt,m=0;m<i.length;m++)n(i[m]);return n}({1:[function(t,o,s){var i=t("./utils"),n=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(m){for(var g,d,c,_,p,h,u,y=[],b=0,v=m.length,E=v,C=i.getTypeOf(m)!=="string";b<m.length;)E=v-b,c=C?(g=m[b++],d=b<v?m[b++]:0,b<v?m[b++]:0):(g=m.charCodeAt(b++),d=b<v?m.charCodeAt(b++):0,b<v?m.charCodeAt(b++):0),_=g>>2,p=(3&g)<<4|d>>4,h=1<E?(15&d)<<2|c>>6:64,u=2<E?63&c:64,y.push(a.charAt(_)+a.charAt(p)+a.charAt(h)+a.charAt(u));return y.join("")},s.decode=function(m){var g,d,c,_,p,h,u=0,y=0,b="data:";if(m.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var v,E=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===a.charAt(64)&&E--,m.charAt(m.length-2)===a.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=n.uint8array?new Uint8Array(0|E):new Array(0|E);u<m.length;)g=a.indexOf(m.charAt(u++))<<2|(_=a.indexOf(m.charAt(u++)))>>4,d=(15&_)<<4|(p=a.indexOf(m.charAt(u++)))>>2,c=(3&p)<<6|(h=a.indexOf(m.charAt(u++))),v[y++]=g,p!==64&&(v[y++]=d),h!==64&&(v[y++]=c);return v}},{"./support":30,"./utils":32}],2:[function(t,o,s){var i=t("./external"),n=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),m=t("./stream/DataLengthProbe");function g(d,c,_,p,h){this.compressedSize=d,this.uncompressedSize=c,this.crc32=_,this.compression=p,this.compressedContent=h}g.prototype={getContentWorker:function(){var d=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),c=this;return d.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(d,c,_){return d.pipe(new a).pipe(new m("uncompressedSize")).pipe(c.compressWorker(_)).pipe(new m("compressedSize")).withStreamInfo("compression",c)},o.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,s){var i=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,s){var i=t("./utils"),n=function(){for(var a,m=[],g=0;g<256;g++){a=g;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;m[g]=a}return m}();o.exports=function(a,m){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(g,d,c,_){var p=n,h=_+c;g^=-1;for(var u=_;u<h;u++)g=g>>>8^p[255&(g^d[u])];return-1^g}(0|m,a,a.length,0):function(g,d,c,_){var p=n,h=_+c;g^=-1;for(var u=_;u<h;u++)g=g>>>8^p[255&(g^d.charCodeAt(u))];return-1^g}(0|m,a,a.length,0):0}},{"./utils":32}],5:[function(t,o,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,o,s){var i=null;i=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:i}},{lie:37}],7:[function(t,o,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=t("pako"),a=t("./utils"),m=t("./stream/GenericWorker"),g=i?"uint8array":"array";function d(c,_){m.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=_,this.meta={}}s.magic="\b\0",a.inherits(d,m),d.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(g,c.data),!1)},d.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(_){c.push({data:_,meta:c.meta})}},s.compressWorker=function(c){return new d("Deflate",c)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,s){function i(p,h){var u,y="";for(u=0;u<h;u++)y+=String.fromCharCode(255&p),p>>>=8;return y}function n(p,h,u,y,b,v){var E,C,S=p.file,U=p.compression,F=v!==g.utf8encode,M=a.transformTo("string",v(S.name)),I=a.transformTo("string",g.utf8encode(S.name)),V=S.comment,Y=a.transformTo("string",v(V)),x=a.transformTo("string",g.utf8encode(V)),D=I.length!==S.name.length,f=x.length!==V.length,L="",tt="",W="",rt=S.dir,H=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};h&&!u||(Q.crc32=p.crc32,Q.compressedSize=p.compressedSize,Q.uncompressedSize=p.uncompressedSize);var z=0;h&&(z|=8),F||!D&&!f||(z|=2048);var T=0,J=0;rt&&(T|=16),b==="UNIX"?(J=798,T|=function(G,at){var dt=G;return G||(dt=at?16893:33204),(65535&dt)<<16}(S.unixPermissions,rt)):(J=20,T|=function(G){return 63&(G||0)}(S.dosPermissions)),E=H.getUTCHours(),E<<=6,E|=H.getUTCMinutes(),E<<=5,E|=H.getUTCSeconds()/2,C=H.getUTCFullYear()-1980,C<<=4,C|=H.getUTCMonth()+1,C<<=5,C|=H.getUTCDate(),D&&(tt=i(1,1)+i(d(M),4)+I,L+="up"+i(tt.length,2)+tt),f&&(W=i(1,1)+i(d(Y),4)+x,L+="uc"+i(W.length,2)+W);var K="";return K+=`
\0`,K+=i(z,2),K+=U.magic,K+=i(E,2),K+=i(C,2),K+=i(Q.crc32,4),K+=i(Q.compressedSize,4),K+=i(Q.uncompressedSize,4),K+=i(M.length,2),K+=i(L.length,2),{fileRecord:c.LOCAL_FILE_HEADER+K+M+L,dirRecord:c.CENTRAL_FILE_HEADER+i(J,2)+K+i(Y.length,2)+"\0\0\0\0"+i(T,4)+i(y,4)+M+L+Y}}var a=t("../utils"),m=t("../stream/GenericWorker"),g=t("../utf8"),d=t("../crc32"),c=t("../signature");function _(p,h,u,y){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=u,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(_,m),_.prototype.push=function(p){var h=p.meta.percent||0,u=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,m.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:u?(h+100*(u-y-1))/u:100}}))},_.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var h=this.streamFiles&&!p.file.dir;if(h){var u=n(p,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(p){this.accumulate=!1;var h=this.streamFiles&&!p.file.dir,u=n(p,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),h)this.push({data:function(y){return c.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var p=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var u=this.bytesWritten-p,y=function(b,v,E,C,S){var U=a.transformTo("string",S(C));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(v,4)+i(E,4)+i(U.length,2)+U}(this.dirRecords.length,u,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(p){this._sources.push(p);var h=this;return p.on("data",function(u){h.processChunk(u)}),p.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),p.on("error",function(u){h.error(u)}),this},_.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(p){var h=this._sources;if(!m.prototype.error.call(this,p))return!1;for(var u=0;u<h.length;u++)try{h[u].error(p)}catch{}return!0},_.prototype.lock=function(){m.prototype.lock.call(this);for(var p=this._sources,h=0;h<p.length;h++)p[h].lock()},o.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,s){var i=t("../compressions"),n=t("./ZipFileWorker");s.generateWorker=function(a,m,g){var d=new n(m.streamFiles,g,m.platform,m.encodeFileName),c=0;try{a.forEach(function(_,p){c++;var h=function(v,E){var C=v||E,S=i[C];if(!S)throw new Error(C+" is not a valid compression method !");return S}(p.options.compression,m.compression),u=p.options.compressionOptions||m.compressionOptions||{},y=p.dir,b=p.date;p._compressWorker(h,u).withStreamInfo("file",{name:_,dir:y,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=c}catch(_){d.error(_)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new i;for(var a in this)typeof this[a]!="function"&&(n[a]=this[a]);return n}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(n,a){return new i().loadAsync(n,a)},i.external=t("./external"),o.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,s){var i=t("./utils"),n=t("./external"),a=t("./utf8"),m=t("./zipEntries"),g=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function c(_){return new n.Promise(function(p,h){var u=_.decompressed.getContentWorker().pipe(new g);u.on("error",function(y){h(y)}).on("end",function(){u.streamInfo.crc32!==_.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}o.exports=function(_,p){var h=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(_)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",_,!0,p.optimizedBinaryString,p.base64).then(function(u){var y=new m(p);return y.load(u),y}).then(function(u){var y=[n.Promise.resolve(u)],b=u.files;if(p.checkCRC32)for(var v=0;v<b.length;v++)y.push(c(b[v]));return n.Promise.all(y)}).then(function(u){for(var y=u.shift(),b=y.files,v=0;v<b.length;v++){var E=b[v],C=E.fileNameStr,S=i.resolve(E.fileNameStr);h.file(S,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:p.createFolders}),E.dir||(h.file(S).unsafeOriginalName=C)}return y.zipComment.length&&(h.comment=y.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,s){var i=t("../utils"),n=t("../stream/GenericWorker");function a(m,g){n.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(g)}i.inherits(a,n),a.prototype._bindStream=function(m){var g=this;(this._stream=m).pause(),m.on("data",function(d){g.push({data:d,meta:{percent:0}})}).on("error",function(d){g.isPaused?this.generatedError=d:g.error(d)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},a.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,s){var i=t("readable-stream").Readable;function n(a,m,g){i.call(this,m),this._helper=a;var d=this;a.on("data",function(c,_){d.push(c)||d._helper.pause(),g&&g(_)}).on("error",function(c){d.emit("error",c)}).on("end",function(){d.push(null)})}t("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},o.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,o,s){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,n);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,n)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var n=new Buffer(i);return n.fill(0),n},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,o,s){function i(S,U,F){var M,I=a.getTypeOf(U),V=a.extend(F||{},d);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(S=b(S)),V.createFolders&&(M=y(S))&&v.call(this,M,!0);var Y=I==="string"&&V.binary===!1&&V.base64===!1;F&&F.binary!==void 0||(V.binary=!Y),(U instanceof c&&U.uncompressedSize===0||V.dir||!U||U.length===0)&&(V.base64=!1,V.binary=!0,U="",V.compression="STORE",I="string");var x=null;x=U instanceof c||U instanceof m?U:h.isNode&&h.isStream(U)?new u(S,U):a.prepareContent(S,U,V.binary,V.optimizedBinaryString,V.base64);var D=new _(S,x,V);this.files[S]=D}var n=t("./utf8"),a=t("./utils"),m=t("./stream/GenericWorker"),g=t("./stream/StreamHelper"),d=t("./defaults"),c=t("./compressedObject"),_=t("./zipObject"),p=t("./generate"),h=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var U=S.lastIndexOf("/");return 0<U?S.substring(0,U):""},b=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,U){return U=U!==void 0?U:d.createFolders,S=b(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:U}),this.files[S]};function E(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var U,F,M;for(U in this.files)M=this.files[U],(F=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&S(F,M)},filter:function(S){var U=[];return this.forEach(function(F,M){S(F,M)&&U.push(M)}),U},file:function(S,U,F){if(arguments.length!==1)return S=this.root+S,i.call(this,S,U,F),this;if(E(S)){var M=S;return this.filter(function(V,Y){return!Y.dir&&M.test(V)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(E(S))return this.filter(function(I,V){return V.dir&&S.test(I)});var U=this.root+S,F=v.call(this,U),M=this.clone();return M.root=F.name,M},remove:function(S){S=this.root+S;var U=this.files[S];if(U||(S.slice(-1)!=="/"&&(S+="/"),U=this.files[S]),U&&!U.dir)delete this.files[S];else for(var F=this.filter(function(I,V){return V.name.slice(0,S.length)===S}),M=0;M<F.length;M++)delete this.files[F[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var U,F={};try{if((F=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var M=F.comment||this.comment||"";U=p.generateWorker(this,F,M)}catch(I){(U=new m("error")).error(I)}return new g(U,F.type||"string",F.mimeType)},generateAsync:function(S,U){return this.generateInternalStream(S).accumulate(U)},generateNodeStream:function(S,U){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(U)}};o.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,s){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,s){var i=t("./DataReader");function n(a){i.call(this,a);for(var m=0;m<this.data.length;m++)a[m]=255&a[m]}t("../utils").inherits(n,i),n.prototype.byteAt=function(a){return this.data[this.zero+a]},n.prototype.lastIndexOfSignature=function(a){for(var m=a.charCodeAt(0),g=a.charCodeAt(1),d=a.charCodeAt(2),c=a.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===m&&this.data[_+1]===g&&this.data[_+2]===d&&this.data[_+3]===c)return _-this.zero;return-1},n.prototype.readAndCheckSignature=function(a){var m=a.charCodeAt(0),g=a.charCodeAt(1),d=a.charCodeAt(2),c=a.charCodeAt(3),_=this.readData(4);return m===_[0]&&g===_[1]&&d===_[2]&&c===_[3]},n.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,m},o.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,o,s){var i=t("../utils");function n(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var m,g=0;for(this.checkOffset(a),m=this.index+a-1;m>=this.index;m--)g=(g<<8)+this.byteAt(m);return this.index+=a,g},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=n},{"../utils":32}],19:[function(t,o,s){var i=t("./Uint8ArrayReader");function n(a){i.call(this,a)}t("../utils").inherits(n,i),n.prototype.readData=function(a){this.checkOffset(a);var m=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,m},o.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,s){var i=t("./DataReader");function n(a){i.call(this,a)}t("../utils").inherits(n,i),n.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},n.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},n.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},n.prototype.readData=function(a){this.checkOffset(a);var m=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,m},o.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,o,s){var i=t("./ArrayReader");function n(a){i.call(this,a)}t("../utils").inherits(n,i),n.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,m},o.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,s){var i=t("../utils"),n=t("../support"),a=t("./ArrayReader"),m=t("./StringReader"),g=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");o.exports=function(c){var _=i.getTypeOf(c);return i.checkSupport(_),_!=="string"||n.uint8array?_==="nodebuffer"?new g(c):n.uint8array?new d(i.transformTo("uint8array",c)):new a(i.transformTo("array",c)):new m(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,s){var i=t("./GenericWorker"),n=t("../utils");function a(m){i.call(this,"ConvertWorker to "+m),this.destType=m}n.inherits(a,i),a.prototype.processChunk=function(m){this.push({data:n.transformTo(this.destType,m.data),meta:m.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,s){var i=t("./GenericWorker"),n=t("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,i),a.prototype.processChunk=function(m){this.streamInfo.crc32=n(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,s){var i=t("../utils"),n=t("./GenericWorker");function a(m){n.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}i.inherits(a,n),a.prototype.processChunk=function(m){if(m){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+m.data.length}n.prototype.processChunk.call(this,m)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,s){var i=t("../utils"),n=t("./GenericWorker");function a(m){n.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(d){g.dataIsReady=!0,g.data=d,g.max=d&&d.length||0,g.type=i.getTypeOf(d),g.isPaused||g._tickAndRepeat()},function(d){g.error(d)})}i.inherits(a,n),a.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,g);break;case"uint8array":m=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":m=this.data.slice(this.index,g)}return this.index=g,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,s){function i(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,a){return this._listeners[n].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,a){if(this._listeners[n])for(var m=0;m<this._listeners[n].length;m++)this._listeners[n][m].call(this,a)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var a=this;return n.on("data",function(m){a.processChunk(m)}),n.on("end",function(){a.end()}),n.on("error",function(m){a.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,a){return this.extraStreamInfo[n]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},o.exports=i},{}],29:[function(t,o,s){var i=t("../utils"),n=t("./ConvertWorker"),a=t("./GenericWorker"),m=t("../base64"),g=t("../support"),d=t("../external"),c=null;if(g.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(h,u){return new d.Promise(function(y,b){var v=[],E=h._internalType,C=h._outputType,S=h._mimeType;h.on("data",function(U,F){v.push(U),u&&u(F)}).on("error",function(U){v=[],b(U)}).on("end",function(){try{var U=function(F,M,I){switch(F){case"blob":return i.newBlob(i.transformTo("arraybuffer",M),I);case"base64":return m.encode(M);default:return i.transformTo(F,M)}}(C,function(F,M){var I,V=0,Y=null,x=0;for(I=0;I<M.length;I++)x+=M[I].length;switch(F){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(Y=new Uint8Array(x),I=0;I<M.length;I++)Y.set(M[I],V),V+=M[I].length;return Y;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+F+"'")}}(E,v),S);y(U)}catch(F){b(F)}v=[]}).resume()})}function p(h,u,y){var b=u;switch(u){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=u,this._mimeType=y,i.checkSupport(b),this._worker=h.pipe(new n(b)),h.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}p.prototype={accumulate:function(h){return _(this,h)},on:function(h,u){var y=this;return h==="data"?this._worker.on(h,function(b){u.call(y,b.data,b.meta)}):this._worker.on(h,function(){i.delay(u,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},h)}},o.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),s.blob=n.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,s){for(var i=t("./utils"),n=t("./support"),a=t("./nodejsUtils"),m=t("./stream/GenericWorker"),g=new Array(256),d=0;d<256;d++)g[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;g[254]=g[254]=1;function c(){m.call(this,"utf-8 decode"),this.leftOver=null}function _(){m.call(this,"utf-8 encode")}s.utf8encode=function(p){return n.nodebuffer?a.newBufferFrom(p,"utf-8"):function(h){var u,y,b,v,E,C=h.length,S=0;for(v=0;v<C;v++)(64512&(y=h.charCodeAt(v)))==55296&&v+1<C&&(64512&(b=h.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),v++),S+=y<128?1:y<2048?2:y<65536?3:4;for(u=n.uint8array?new Uint8Array(S):new Array(S),v=E=0;E<S;v++)(64512&(y=h.charCodeAt(v)))==55296&&v+1<C&&(64512&(b=h.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),v++),y<128?u[E++]=y:(y<2048?u[E++]=192|y>>>6:(y<65536?u[E++]=224|y>>>12:(u[E++]=240|y>>>18,u[E++]=128|y>>>12&63),u[E++]=128|y>>>6&63),u[E++]=128|63&y);return u}(p)},s.utf8decode=function(p){return n.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(h){var u,y,b,v,E=h.length,C=new Array(2*E);for(u=y=0;u<E;)if((b=h[u++])<128)C[y++]=b;else if(4<(v=g[b]))C[y++]=65533,u+=v-1;else{for(b&=v===2?31:v===3?15:7;1<v&&u<E;)b=b<<6|63&h[u++],v--;1<v?C[y++]=65533:b<65536?C[y++]=b:(b-=65536,C[y++]=55296|b>>10&1023,C[y++]=56320|1023&b)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),i.applyFromCharCode(C)}(p=i.transformTo(n.uint8array?"uint8array":"array",p))},i.inherits(c,m),c.prototype.processChunk=function(p){var h=i.transformTo(n.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var u=h;(h=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),h.set(u,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var y=function(v,E){var C;for((E=E||v.length)>v.length&&(E=v.length),C=E-1;0<=C&&(192&v[C])==128;)C--;return C<0||C===0?E:C+g[v[C]]>E?C:E}(h),b=h;y!==h.length&&(n.uint8array?(b=h.subarray(0,y),this.leftOver=h.subarray(y,h.length)):(b=h.slice(0,y),this.leftOver=h.slice(y,h.length))),this.push({data:s.utf8decode(b),meta:p.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=c,i.inherits(_,m),_.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,s){var i=t("./support"),n=t("./base64"),a=t("./nodejsUtils"),m=t("./external");function g(u){return u}function d(u,y){for(var b=0;b<u.length;++b)y[b]=255&u.charCodeAt(b);return y}t("setimmediate"),s.newBlob=function(u,y){s.checkSupport("blob");try{return new Blob([u],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(u),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(u,y,b){var v=[],E=0,C=u.length;if(C<=b)return String.fromCharCode.apply(null,u);for(;E<C;)y==="array"||y==="nodebuffer"?v.push(String.fromCharCode.apply(null,u.slice(E,Math.min(E+b,C)))):v.push(String.fromCharCode.apply(null,u.subarray(E,Math.min(E+b,C)))),E+=b;return v.join("")},stringifyByChar:function(u){for(var y="",b=0;b<u.length;b++)y+=String.fromCharCode(u[b]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function _(u){var y=65536,b=s.getTypeOf(u),v=!0;if(b==="uint8array"?v=c.applyCanBeUsed.uint8array:b==="nodebuffer"&&(v=c.applyCanBeUsed.nodebuffer),v)for(;1<y;)try{return c.stringifyByChunk(u,b,y)}catch{y=Math.floor(y/2)}return c.stringifyByChar(u)}function p(u,y){for(var b=0;b<u.length;b++)y[b]=u[b];return y}s.applyFromCharCode=_;var h={};h.string={string:g,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return h.string.uint8array(u).buffer},uint8array:function(u){return d(u,new Uint8Array(u.length))},nodebuffer:function(u){return d(u,a.allocBuffer(u.length))}},h.array={string:_,array:g,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return a.newBufferFrom(u)}},h.arraybuffer={string:function(u){return _(new Uint8Array(u))},array:function(u){return p(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:g,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return a.newBufferFrom(new Uint8Array(u))}},h.uint8array={string:_,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:g,nodebuffer:function(u){return a.newBufferFrom(u)}},h.nodebuffer={string:_,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return h.nodebuffer.uint8array(u).buffer},uint8array:function(u){return p(u,new Uint8Array(u.length))},nodebuffer:g},s.transformTo=function(u,y){if(y=y||"",!u)return y;s.checkSupport(u);var b=s.getTypeOf(y);return h[b][u](y)},s.resolve=function(u){for(var y=u.split("/"),b=[],v=0;v<y.length;v++){var E=y[v];E==="."||E===""&&v!==0&&v!==y.length-1||(E===".."?b.pop():b.push(E))}return b.join("/")},s.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(u)?"nodebuffer":i.uint8array&&u instanceof Uint8Array?"uint8array":i.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(u){if(!i[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(u){var y,b,v="";for(b=0;b<(u||"").length;b++)v+="\\x"+((y=u.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return v},s.delay=function(u,y,b){setImmediate(function(){u.apply(b||null,y||[])})},s.inherits=function(u,y){function b(){}b.prototype=y.prototype,u.prototype=new b},s.extend=function(){var u,y,b={};for(u=0;u<arguments.length;u++)for(y in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],y)&&b[y]===void 0&&(b[y]=arguments[u][y]);return b},s.prepareContent=function(u,y,b,v,E){return m.Promise.resolve(y).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new m.Promise(function(S,U){var F=new FileReader;F.onload=function(M){S(M.target.result)},F.onerror=function(M){U(M.target.error)},F.readAsArrayBuffer(C)}):C}).then(function(C){var S=s.getTypeOf(C);return S?(S==="arraybuffer"?C=s.transformTo("uint8array",C):S==="string"&&(E?C=n.decode(C):b&&v!==!0&&(C=function(U){return d(U,i.uint8array?new Uint8Array(U.length):new Array(U.length))}(C))),C):m.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,s){var i=t("./reader/readerFor"),n=t("./utils"),a=t("./signature"),m=t("./zipEntry"),g=t("./support");function d(c){this.files=[],this.loadOptions=c}d.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(_)+", expected "+n.pretty(c)+")")}},isSignature:function(c,_){var p=this.reader.index;this.reader.setIndex(c);var h=this.reader.readString(4)===_;return this.reader.setIndex(p),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),_=g.uint8array?"uint8array":"array",p=n.transformTo(_,c);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,_,p,h=this.zip64EndOfCentralSize-44;0<h;)c=this.reader.readInt(2),_=this.reader.readInt(4),p=this.reader.readData(_),this.zip64ExtensibleData[c]={id:c,length:_,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,_;for(c=0;c<this.files.length;c++)_=this.files[c],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(c=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var _=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var h=_-p;if(0<h)this.isSignature(_,a.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,s){var i=t("./reader/readerFor"),n=t("./utils"),a=t("./compressedObject"),m=t("./crc32"),g=t("./utf8"),d=t("./compressions"),c=t("./support");function _(p,h){this.options=p,this.loadOptions=h}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var h,u;if(p.skip(22),this.fileNameLength=p.readInt(2),u=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(y){for(var b in d)if(Object.prototype.hasOwnProperty.call(d,b)&&d[b].magic===y)return d[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,h,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var h=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(h),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var h,u,y,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)h=p.readInt(2),u=p.readInt(2),y=p.readData(u),this.extraFields[h]={id:h,length:u,value:y};p.setIndex(b)},handleUTF8:function(){var p=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var u=n.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=n.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var h=i(p.value);return h.readInt(1)!==1||m(this.fileName)!==h.readInt(4)?null:g.utf8decode(h.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var h=i(p.value);return h.readInt(1)!==1||m(this.fileComment)!==h.readInt(4)?null:g.utf8decode(h.readData(p.length-5))}return null}},o.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,s){function i(h,u,y){this.name=h,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=u,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var n=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),m=t("./utf8"),g=t("./compressedObject"),d=t("./stream/GenericWorker");i.prototype={internalStream:function(h){var u=null,y="string";try{if(!h)throw new Error("No output type specified.");var b=(y=h.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),u=this._decompressWorker();var v=!this._dataBinary;v&&!b&&(u=u.pipe(new m.Utf8EncodeWorker)),!v&&b&&(u=u.pipe(new m.Utf8DecodeWorker))}catch(E){(u=new d("error")).error(E)}return new n(u,y,"")},async:function(h,u){return this.internalStream(h).accumulate(u)},nodeStream:function(h,u){return this.internalStream(h||"nodebuffer").toNodejsStream(u)},_compressWorker:function(h,u){if(this._data instanceof g&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new m.Utf8EncodeWorker)),g.createWorkerFrom(y,h,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)i.prototype[c[p]]=_;o.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,s){(function(i){var n,a,m=i.MutationObserver||i.WebKitMutationObserver;if(m){var g=0,d=new m(h),c=i.document.createTextNode("");d.observe(c,{characterData:!0}),n=function(){c.data=g=++g%2}}else if(i.setImmediate||i.MessageChannel===void 0)n="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var u=i.document.createElement("script");u.onreadystatechange=function(){h(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},i.document.documentElement.appendChild(u)}:function(){setTimeout(h,0)};else{var _=new i.MessageChannel;_.port1.onmessage=h,n=function(){_.port2.postMessage(0)}}var p=[];function h(){var u,y;a=!0;for(var b=p.length;b;){for(y=p,p=[],u=-1;++u<b;)y[u]();b=p.length}a=!1}o.exports=function(u){p.push(u)!==1||a||n()}}).call(this,typeof xt<"u"?xt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,s){var i=t("immediate");function n(){}var a={},m=["REJECTED"],g=["FULFILLED"],d=["PENDING"];function c(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,b!==n&&u(this,b)}function _(b,v,E){this.promise=b,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function p(b,v,E){i(function(){var C;try{C=v(E)}catch(S){return a.reject(b,S)}C===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,C)})}function h(b){var v=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof v=="function")return function(){v.apply(b,arguments)}}function u(b,v){var E=!1;function C(F){E||(E=!0,a.reject(b,F))}function S(F){E||(E=!0,a.resolve(b,F))}var U=y(function(){v(S,C)});U.status==="error"&&C(U.value)}function y(b,v){var E={};try{E.value=b(v),E.status="success"}catch(C){E.status="error",E.value=C}return E}(o.exports=c).prototype.finally=function(b){if(typeof b!="function")return this;var v=this.constructor;return this.then(function(E){return v.resolve(b()).then(function(){return E})},function(E){return v.resolve(b()).then(function(){throw E})})},c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,v){if(typeof b!="function"&&this.state===g||typeof v!="function"&&this.state===m)return this;var E=new this.constructor(n);return this.state!==d?p(E,this.state===g?b:v,this.outcome):this.queue.push(new _(E,b,v)),E},_.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},_.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},_.prototype.callRejected=function(b){a.reject(this.promise,b)},_.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},a.resolve=function(b,v){var E=y(h,v);if(E.status==="error")return a.reject(b,E.value);var C=E.value;if(C)u(b,C);else{b.state=g,b.outcome=v;for(var S=-1,U=b.queue.length;++S<U;)b.queue[S].callFulfilled(v)}return b},a.reject=function(b,v){b.state=m,b.outcome=v;for(var E=-1,C=b.queue.length;++E<C;)b.queue[E].callRejected(v);return b},c.resolve=function(b){return b instanceof this?b:a.resolve(new this(n),b)},c.reject=function(b){var v=new this(n);return a.reject(v,b)},c.all=function(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,C=!1;if(!E)return this.resolve([]);for(var S=new Array(E),U=0,F=-1,M=new this(n);++F<E;)I(b[F],F);return M;function I(V,Y){v.resolve(V).then(function(x){S[Y]=x,++U!==E||C||(C=!0,a.resolve(M,S))},function(x){C||(C=!0,a.reject(M,x))})}},c.race=function(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,C=!1;if(!E)return this.resolve([]);for(var S=-1,U=new this(n);++S<E;)F=b[S],v.resolve(F).then(function(M){C||(C=!0,a.resolve(U,M))},function(M){C||(C=!0,a.reject(U,M))});var F;return U}},{immediate:36}],38:[function(t,o,s){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,s){var i=t("./zlib/deflate"),n=t("./utils/common"),a=t("./utils/strings"),m=t("./zlib/messages"),g=t("./zlib/zstream"),d=Object.prototype.toString,c=0,_=-1,p=0,h=8;function u(b){if(!(this instanceof u))return new u(b);this.options=n.assign({level:_,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var E=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(E!==c)throw new Error(m[E]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var C;if(C=typeof v.dictionary=="string"?a.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(E=i.deflateSetDictionary(this.strm,C))!==c)throw new Error(m[E]);this._dict_set=!0}}function y(b,v){var E=new u(v);if(E.push(b,!0),E.err)throw E.msg||m[E.err];return E.result}u.prototype.push=function(b,v){var E,C,S=this.strm,U=this.options.chunkSize;if(this.ended)return!1;C=v===~~v?v:v===!0?4:0,typeof b=="string"?S.input=a.string2buf(b):d.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new n.Buf8(U),S.next_out=0,S.avail_out=U),(E=i.deflate(S,C))!==1&&E!==c)return this.onEnd(E),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(n.shrinkBuf(S.output,S.next_out))):this.onData(n.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&E!==1);return C===4?(E=i.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):C!==2||(this.onEnd(c),!(S.avail_out=0))},u.prototype.onData=function(b){this.chunks.push(b)},u.prototype.onEnd=function(b){b===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Deflate=u,s.deflate=y,s.deflateRaw=function(b,v){return(v=v||{}).raw=!0,y(b,v)},s.gzip=function(b,v){return(v=v||{}).gzip=!0,y(b,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,s){var i=t("./zlib/inflate"),n=t("./utils/common"),a=t("./utils/strings"),m=t("./zlib/constants"),g=t("./zlib/messages"),d=t("./zlib/zstream"),c=t("./zlib/gzheader"),_=Object.prototype.toString;function p(u){if(!(this instanceof p))return new p(u);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},u||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||u&&u.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,y.windowBits);if(b!==m.Z_OK)throw new Error(g[b]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(u,y){var b=new p(y);if(b.push(u,!0),b.err)throw b.msg||g[b.err];return b.result}p.prototype.push=function(u,y){var b,v,E,C,S,U,F=this.strm,M=this.options.chunkSize,I=this.options.dictionary,V=!1;if(this.ended)return!1;v=y===~~y?y:y===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof u=="string"?F.input=a.binstring2buf(u):_.call(u)==="[object ArrayBuffer]"?F.input=new Uint8Array(u):F.input=u,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new n.Buf8(M),F.next_out=0,F.avail_out=M),(b=i.inflate(F,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&I&&(U=typeof I=="string"?a.string2buf(I):_.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,b=i.inflateSetDictionary(this.strm,U)),b===m.Z_BUF_ERROR&&V===!0&&(b=m.Z_OK,V=!1),b!==m.Z_STREAM_END&&b!==m.Z_OK)return this.onEnd(b),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&b!==m.Z_STREAM_END&&(F.avail_in!==0||v!==m.Z_FINISH&&v!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=a.utf8border(F.output,F.next_out),C=F.next_out-E,S=a.buf2string(F.output,E),F.next_out=C,F.avail_out=M-C,C&&n.arraySet(F.output,F.output,E,C,0),this.onData(S)):this.onData(n.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(V=!0)}while((0<F.avail_in||F.avail_out===0)&&b!==m.Z_STREAM_END);return b===m.Z_STREAM_END&&(v=m.Z_FINISH),v===m.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===m.Z_OK):v!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(F.avail_out=0))},p.prototype.onData=function(u){this.chunks.push(u)},p.prototype.onEnd=function(u){u===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},s.Inflate=p,s.inflate=h,s.inflateRaw=function(u,y){return(y=y||{}).raw=!0,h(u,y)},s.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(m){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var d=g.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var c in d)d.hasOwnProperty(c)&&(m[c]=d[c])}}return m},s.shrinkBuf=function(m,g){return m.length===g?m:m.subarray?m.subarray(0,g):(m.length=g,m)};var n={arraySet:function(m,g,d,c,_){if(g.subarray&&m.subarray)m.set(g.subarray(d,d+c),_);else for(var p=0;p<c;p++)m[_+p]=g[d+p]},flattenChunks:function(m){var g,d,c,_,p,h;for(g=c=0,d=m.length;g<d;g++)c+=m[g].length;for(h=new Uint8Array(c),g=_=0,d=m.length;g<d;g++)p=m[g],h.set(p,_),_+=p.length;return h}},a={arraySet:function(m,g,d,c,_){for(var p=0;p<c;p++)m[_+p]=g[d+p]},flattenChunks:function(m){return[].concat.apply([],m)}};s.setTyped=function(m){m?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,n)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(t,o,s){var i=t("./common"),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var m=new i.Buf8(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function d(c,_){if(_<65537&&(c.subarray&&a||!c.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(c,_));for(var p="",h=0;h<_;h++)p+=String.fromCharCode(c[h]);return p}m[254]=m[254]=1,s.string2buf=function(c){var _,p,h,u,y,b=c.length,v=0;for(u=0;u<b;u++)(64512&(p=c.charCodeAt(u)))==55296&&u+1<b&&(64512&(h=c.charCodeAt(u+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),u++),v+=p<128?1:p<2048?2:p<65536?3:4;for(_=new i.Buf8(v),u=y=0;y<v;u++)(64512&(p=c.charCodeAt(u)))==55296&&u+1<b&&(64512&(h=c.charCodeAt(u+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),u++),p<128?_[y++]=p:(p<2048?_[y++]=192|p>>>6:(p<65536?_[y++]=224|p>>>12:(_[y++]=240|p>>>18,_[y++]=128|p>>>12&63),_[y++]=128|p>>>6&63),_[y++]=128|63&p);return _},s.buf2binstring=function(c){return d(c,c.length)},s.binstring2buf=function(c){for(var _=new i.Buf8(c.length),p=0,h=_.length;p<h;p++)_[p]=c.charCodeAt(p);return _},s.buf2string=function(c,_){var p,h,u,y,b=_||c.length,v=new Array(2*b);for(p=h=0;p<b;)if((u=c[p++])<128)v[h++]=u;else if(4<(y=m[u]))v[h++]=65533,p+=y-1;else{for(u&=y===2?31:y===3?15:7;1<y&&p<b;)u=u<<6|63&c[p++],y--;1<y?v[h++]=65533:u<65536?v[h++]=u:(u-=65536,v[h++]=55296|u>>10&1023,v[h++]=56320|1023&u)}return d(v,h)},s.utf8border=function(c,_){var p;for((_=_||c.length)>c.length&&(_=c.length),p=_-1;0<=p&&(192&c[p])==128;)p--;return p<0||p===0?_:p+m[c[p]]>_?p:_}},{"./common":41}],43:[function(t,o,s){o.exports=function(i,n,a,m){for(var g=65535&i|0,d=i>>>16&65535|0,c=0;a!==0;){for(a-=c=2e3<a?2e3:a;d=d+(g=g+n[m++]|0)|0,--c;);g%=65521,d%=65521}return g|d<<16|0}},{}],44:[function(t,o,s){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,s){var i=function(){for(var n,a=[],m=0;m<256;m++){n=m;for(var g=0;g<8;g++)n=1&n?3988292384^n>>>1:n>>>1;a[m]=n}return a}();o.exports=function(n,a,m,g){var d=i,c=g+m;n^=-1;for(var _=g;_<c;_++)n=n>>>8^d[255&(n^a[_])];return-1^n}},{}],46:[function(t,o,s){var i,n=t("../utils/common"),a=t("./trees"),m=t("./adler32"),g=t("./crc32"),d=t("./messages"),c=0,_=4,p=0,h=-2,u=-1,y=4,b=2,v=8,E=9,C=286,S=30,U=19,F=2*C+1,M=15,I=3,V=258,Y=V+I+1,x=42,D=113,f=1,L=2,tt=3,W=4;function rt(l,P){return l.msg=d[P],P}function H(l){return(l<<1)-(4<l?9:0)}function Q(l){for(var P=l.length;0<=--P;)l[P]=0}function z(l){var P=l.state,B=P.pending;B>l.avail_out&&(B=l.avail_out),B!==0&&(n.arraySet(l.output,P.pending_buf,P.pending_out,B,l.next_out),l.next_out+=B,P.pending_out+=B,l.total_out+=B,l.avail_out-=B,P.pending-=B,P.pending===0&&(P.pending_out=0))}function T(l,P){a._tr_flush_block(l,0<=l.block_start?l.block_start:-1,l.strstart-l.block_start,P),l.block_start=l.strstart,z(l.strm)}function J(l,P){l.pending_buf[l.pending++]=P}function K(l,P){l.pending_buf[l.pending++]=P>>>8&255,l.pending_buf[l.pending++]=255&P}function G(l,P){var B,k,w=l.max_chain_length,A=l.strstart,N=l.prev_length,j=l.nice_match,R=l.strstart>l.w_size-Y?l.strstart-(l.w_size-Y):0,Z=l.window,$=l.w_mask,q=l.prev,X=l.strstart+V,ot=Z[A+N-1],it=Z[A+N];l.prev_length>=l.good_match&&(w>>=2),j>l.lookahead&&(j=l.lookahead);do if(Z[(B=P)+N]===it&&Z[B+N-1]===ot&&Z[B]===Z[A]&&Z[++B]===Z[A+1]){A+=2,B++;do;while(Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&Z[++A]===Z[++B]&&A<X);if(k=V-(X-A),A=X-V,N<k){if(l.match_start=P,j<=(N=k))break;ot=Z[A+N-1],it=Z[A+N]}}while((P=q[P&$])>R&&--w!=0);return N<=l.lookahead?N:l.lookahead}function at(l){var P,B,k,w,A,N,j,R,Z,$,q=l.w_size;do{if(w=l.window_size-l.lookahead-l.strstart,l.strstart>=q+(q-Y)){for(n.arraySet(l.window,l.window,q,q,0),l.match_start-=q,l.strstart-=q,l.block_start-=q,P=B=l.hash_size;k=l.head[--P],l.head[P]=q<=k?k-q:0,--B;);for(P=B=q;k=l.prev[--P],l.prev[P]=q<=k?k-q:0,--B;);w+=q}if(l.strm.avail_in===0)break;if(N=l.strm,j=l.window,R=l.strstart+l.lookahead,Z=w,$=void 0,$=N.avail_in,Z<$&&($=Z),B=$===0?0:(N.avail_in-=$,n.arraySet(j,N.input,N.next_in,$,R),N.state.wrap===1?N.adler=m(N.adler,j,$,R):N.state.wrap===2&&(N.adler=g(N.adler,j,$,R)),N.next_in+=$,N.total_in+=$,$),l.lookahead+=B,l.lookahead+l.insert>=I)for(A=l.strstart-l.insert,l.ins_h=l.window[A],l.ins_h=(l.ins_h<<l.hash_shift^l.window[A+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[A+I-1])&l.hash_mask,l.prev[A&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=A,A++,l.insert--,!(l.lookahead+l.insert<I)););}while(l.lookahead<Y&&l.strm.avail_in!==0)}function dt(l,P){for(var B,k;;){if(l.lookahead<Y){if(at(l),l.lookahead<Y&&P===c)return f;if(l.lookahead===0)break}if(B=0,l.lookahead>=I&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+I-1])&l.hash_mask,B=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),B!==0&&l.strstart-B<=l.w_size-Y&&(l.match_length=G(l,B)),l.match_length>=I)if(k=a._tr_tally(l,l.strstart-l.match_start,l.match_length-I),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=I){for(l.match_length--;l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+I-1])&l.hash_mask,B=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart,--l.match_length!=0;);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else k=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(k&&(T(l,!1),l.strm.avail_out===0))return f}return l.insert=l.strstart<I-1?l.strstart:I-1,P===_?(T(l,!0),l.strm.avail_out===0?tt:W):l.last_lit&&(T(l,!1),l.strm.avail_out===0)?f:L}function nt(l,P){for(var B,k,w;;){if(l.lookahead<Y){if(at(l),l.lookahead<Y&&P===c)return f;if(l.lookahead===0)break}if(B=0,l.lookahead>=I&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+I-1])&l.hash_mask,B=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=I-1,B!==0&&l.prev_length<l.max_lazy_match&&l.strstart-B<=l.w_size-Y&&(l.match_length=G(l,B),l.match_length<=5&&(l.strategy===1||l.match_length===I&&4096<l.strstart-l.match_start)&&(l.match_length=I-1)),l.prev_length>=I&&l.match_length<=l.prev_length){for(w=l.strstart+l.lookahead-I,k=a._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-I),l.lookahead-=l.prev_length-1,l.prev_length-=2;++l.strstart<=w&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+I-1])&l.hash_mask,B=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),--l.prev_length!=0;);if(l.match_available=0,l.match_length=I-1,l.strstart++,k&&(T(l,!1),l.strm.avail_out===0))return f}else if(l.match_available){if((k=a._tr_tally(l,0,l.window[l.strstart-1]))&&T(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return f}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(k=a._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<I-1?l.strstart:I-1,P===_?(T(l,!0),l.strm.avail_out===0?tt:W):l.last_lit&&(T(l,!1),l.strm.avail_out===0)?f:L}function st(l,P,B,k,w){this.good_length=l,this.max_lazy=P,this.nice_length=B,this.max_chain=k,this.func=w}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*F),this.dyn_dtree=new n.Buf16(2*(2*S+1)),this.bl_tree=new n.Buf16(2*(2*U+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(M+1),this.heap=new n.Buf16(2*C+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*C+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function lt(l){var P;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=b,(P=l.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?x:D,l.adler=P.wrap===2?0:1,P.last_flush=c,a._tr_init(P),p):rt(l,h)}function bt(l){var P=lt(l);return P===p&&function(B){B.window_size=2*B.w_size,Q(B.head),B.max_lazy_match=i[B.level].max_lazy,B.good_match=i[B.level].good_length,B.nice_match=i[B.level].nice_length,B.max_chain_length=i[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=I-1,B.match_available=0,B.ins_h=0}(l.state),P}function gt(l,P,B,k,w,A){if(!l)return h;var N=1;if(P===u&&(P=6),k<0?(N=0,k=-k):15<k&&(N=2,k-=16),w<1||E<w||B!==v||k<8||15<k||P<0||9<P||A<0||y<A)return rt(l,h);k===8&&(k=9);var j=new ft;return(l.state=j).strm=l,j.wrap=N,j.gzhead=null,j.w_bits=k,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=w+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+I-1)/I),j.window=new n.Buf8(2*j.w_size),j.head=new n.Buf16(j.hash_size),j.prev=new n.Buf16(j.w_size),j.lit_bufsize=1<<w+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new n.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=P,j.strategy=A,j.method=B,bt(l)}i=[new st(0,0,0,0,function(l,P){var B=65535;for(B>l.pending_buf_size-5&&(B=l.pending_buf_size-5);;){if(l.lookahead<=1){if(at(l),l.lookahead===0&&P===c)return f;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var k=l.block_start+B;if((l.strstart===0||l.strstart>=k)&&(l.lookahead=l.strstart-k,l.strstart=k,T(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Y&&(T(l,!1),l.strm.avail_out===0))return f}return l.insert=0,P===_?(T(l,!0),l.strm.avail_out===0?tt:W):(l.strstart>l.block_start&&(T(l,!1),l.strm.avail_out),f)}),new st(4,4,8,4,dt),new st(4,5,16,8,dt),new st(4,6,32,32,dt),new st(4,4,16,16,nt),new st(8,16,32,32,nt),new st(8,16,128,128,nt),new st(8,32,128,256,nt),new st(32,128,258,1024,nt),new st(32,258,258,4096,nt)],s.deflateInit=function(l,P){return gt(l,P,v,15,8,0)},s.deflateInit2=gt,s.deflateReset=bt,s.deflateResetKeep=lt,s.deflateSetHeader=function(l,P){return l&&l.state?l.state.wrap!==2?h:(l.state.gzhead=P,p):h},s.deflate=function(l,P){var B,k,w,A;if(!l||!l.state||5<P||P<0)return l?rt(l,h):h;if(k=l.state,!l.output||!l.input&&l.avail_in!==0||k.status===666&&P!==_)return rt(l,l.avail_out===0?-5:h);if(k.strm=l,B=k.last_flush,k.last_flush=P,k.status===x)if(k.wrap===2)l.adler=0,J(k,31),J(k,139),J(k,8),k.gzhead?(J(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),J(k,255&k.gzhead.time),J(k,k.gzhead.time>>8&255),J(k,k.gzhead.time>>16&255),J(k,k.gzhead.time>>24&255),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(J(k,255&k.gzhead.extra.length),J(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(l.adler=g(l.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(J(k,0),J(k,0),J(k,0),J(k,0),J(k,0),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,3),k.status=D);else{var N=v+(k.w_bits-8<<4)<<8;N|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(N|=32),N+=31-N%31,k.status=D,K(k,N),k.strstart!==0&&(K(k,l.adler>>>16),K(k,65535&l.adler)),l.adler=1}if(k.status===69)if(k.gzhead.extra){for(w=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),z(l),w=k.pending,k.pending!==k.pending_buf_size));)J(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),z(l),w=k.pending,k.pending===k.pending_buf_size)){A=1;break}A=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,J(k,A)}while(A!==0);k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),A===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),z(l),w=k.pending,k.pending===k.pending_buf_size)){A=1;break}A=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,J(k,A)}while(A!==0);k.gzhead.hcrc&&k.pending>w&&(l.adler=g(l.adler,k.pending_buf,k.pending-w,w)),A===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&z(l),k.pending+2<=k.pending_buf_size&&(J(k,255&l.adler),J(k,l.adler>>8&255),l.adler=0,k.status=D)):k.status=D),k.pending!==0){if(z(l),l.avail_out===0)return k.last_flush=-1,p}else if(l.avail_in===0&&H(P)<=H(B)&&P!==_)return rt(l,-5);if(k.status===666&&l.avail_in!==0)return rt(l,-5);if(l.avail_in!==0||k.lookahead!==0||P!==c&&k.status!==666){var j=k.strategy===2?function(R,Z){for(var $;;){if(R.lookahead===0&&(at(R),R.lookahead===0)){if(Z===c)return f;break}if(R.match_length=0,$=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,$&&(T(R,!1),R.strm.avail_out===0))return f}return R.insert=0,Z===_?(T(R,!0),R.strm.avail_out===0?tt:W):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?f:L}(k,P):k.strategy===3?function(R,Z){for(var $,q,X,ot,it=R.window;;){if(R.lookahead<=V){if(at(R),R.lookahead<=V&&Z===c)return f;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=I&&0<R.strstart&&(q=it[X=R.strstart-1])===it[++X]&&q===it[++X]&&q===it[++X]){ot=R.strstart+V;do;while(q===it[++X]&&q===it[++X]&&q===it[++X]&&q===it[++X]&&q===it[++X]&&q===it[++X]&&q===it[++X]&&q===it[++X]&&X<ot);R.match_length=V-(ot-X),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=I?($=a._tr_tally(R,1,R.match_length-I),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):($=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),$&&(T(R,!1),R.strm.avail_out===0))return f}return R.insert=0,Z===_?(T(R,!0),R.strm.avail_out===0?tt:W):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?f:L}(k,P):i[k.level].func(k,P);if(j!==tt&&j!==W||(k.status=666),j===f||j===tt)return l.avail_out===0&&(k.last_flush=-1),p;if(j===L&&(P===1?a._tr_align(k):P!==5&&(a._tr_stored_block(k,0,0,!1),P===3&&(Q(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),z(l),l.avail_out===0))return k.last_flush=-1,p}return P!==_?p:k.wrap<=0?1:(k.wrap===2?(J(k,255&l.adler),J(k,l.adler>>8&255),J(k,l.adler>>16&255),J(k,l.adler>>24&255),J(k,255&l.total_in),J(k,l.total_in>>8&255),J(k,l.total_in>>16&255),J(k,l.total_in>>24&255)):(K(k,l.adler>>>16),K(k,65535&l.adler)),z(l),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?p:1)},s.deflateEnd=function(l){var P;return l&&l.state?(P=l.state.status)!==x&&P!==69&&P!==73&&P!==91&&P!==103&&P!==D&&P!==666?rt(l,h):(l.state=null,P===D?rt(l,-3):p):h},s.deflateSetDictionary=function(l,P){var B,k,w,A,N,j,R,Z,$=P.length;if(!l||!l.state||(A=(B=l.state).wrap)===2||A===1&&B.status!==x||B.lookahead)return h;for(A===1&&(l.adler=m(l.adler,P,$,0)),B.wrap=0,$>=B.w_size&&(A===0&&(Q(B.head),B.strstart=0,B.block_start=0,B.insert=0),Z=new n.Buf8(B.w_size),n.arraySet(Z,P,$-B.w_size,B.w_size,0),P=Z,$=B.w_size),N=l.avail_in,j=l.next_in,R=l.input,l.avail_in=$,l.next_in=0,l.input=P,at(B);B.lookahead>=I;){for(k=B.strstart,w=B.lookahead-(I-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[k+I-1])&B.hash_mask,B.prev[k&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=k,k++,--w;);B.strstart=k,B.lookahead=I-1,at(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=I-1,B.match_available=0,l.next_in=j,l.input=R,l.avail_in=N,B.wrap=A,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,s){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,s){o.exports=function(i,n){var a,m,g,d,c,_,p,h,u,y,b,v,E,C,S,U,F,M,I,V,Y,x,D,f,L;a=i.state,m=i.next_in,f=i.input,g=m+(i.avail_in-5),d=i.next_out,L=i.output,c=d-(n-i.avail_out),_=d+(i.avail_out-257),p=a.dmax,h=a.wsize,u=a.whave,y=a.wnext,b=a.window,v=a.hold,E=a.bits,C=a.lencode,S=a.distcode,U=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;t:do{E<15&&(v+=f[m++]<<E,E+=8,v+=f[m++]<<E,E+=8),M=C[v&U];e:for(;;){if(v>>>=I=M>>>24,E-=I,(I=M>>>16&255)===0)L[d++]=65535&M;else{if(!(16&I)){if(!(64&I)){M=C[(65535&M)+(v&(1<<I)-1)];continue e}if(32&I){a.mode=12;break t}i.msg="invalid literal/length code",a.mode=30;break t}V=65535&M,(I&=15)&&(E<I&&(v+=f[m++]<<E,E+=8),V+=v&(1<<I)-1,v>>>=I,E-=I),E<15&&(v+=f[m++]<<E,E+=8,v+=f[m++]<<E,E+=8),M=S[v&F];r:for(;;){if(v>>>=I=M>>>24,E-=I,!(16&(I=M>>>16&255))){if(!(64&I)){M=S[(65535&M)+(v&(1<<I)-1)];continue r}i.msg="invalid distance code",a.mode=30;break t}if(Y=65535&M,E<(I&=15)&&(v+=f[m++]<<E,(E+=8)<I&&(v+=f[m++]<<E,E+=8)),p<(Y+=v&(1<<I)-1)){i.msg="invalid distance too far back",a.mode=30;break t}if(v>>>=I,E-=I,(I=d-c)<Y){if(u<(I=Y-I)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break t}if(D=b,(x=0)===y){if(x+=h-I,I<V){for(V-=I;L[d++]=b[x++],--I;);x=d-Y,D=L}}else if(y<I){if(x+=h+y-I,(I-=y)<V){for(V-=I;L[d++]=b[x++],--I;);if(x=0,y<V){for(V-=I=y;L[d++]=b[x++],--I;);x=d-Y,D=L}}}else if(x+=y-I,I<V){for(V-=I;L[d++]=b[x++],--I;);x=d-Y,D=L}for(;2<V;)L[d++]=D[x++],L[d++]=D[x++],L[d++]=D[x++],V-=3;V&&(L[d++]=D[x++],1<V&&(L[d++]=D[x++]))}else{for(x=d-Y;L[d++]=L[x++],L[d++]=L[x++],L[d++]=L[x++],2<(V-=3););V&&(L[d++]=L[x++],1<V&&(L[d++]=L[x++]))}break}}break}}while(m<g&&d<_);m-=V=E>>3,v&=(1<<(E-=V<<3))-1,i.next_in=m,i.next_out=d,i.avail_in=m<g?g-m+5:5-(m-g),i.avail_out=d<_?_-d+257:257-(d-_),a.hold=v,a.bits=E}},{}],49:[function(t,o,s){var i=t("../utils/common"),n=t("./adler32"),a=t("./crc32"),m=t("./inffast"),g=t("./inftrees"),d=1,c=2,_=0,p=-2,h=1,u=852,y=592;function b(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(x){var D;return x&&x.state?(D=x.state,x.total_in=x.total_out=D.total=0,x.msg="",D.wrap&&(x.adler=1&D.wrap),D.mode=h,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new i.Buf32(u),D.distcode=D.distdyn=new i.Buf32(y),D.sane=1,D.back=-1,_):p}function C(x){var D;return x&&x.state?((D=x.state).wsize=0,D.whave=0,D.wnext=0,E(x)):p}function S(x,D){var f,L;return x&&x.state?(L=x.state,D<0?(f=0,D=-D):(f=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(L.window!==null&&L.wbits!==D&&(L.window=null),L.wrap=f,L.wbits=D,C(x))):p}function U(x,D){var f,L;return x?(L=new v,(x.state=L).window=null,(f=S(x,D))!==_&&(x.state=null),f):p}var F,M,I=!0;function V(x){if(I){var D;for(F=new i.Buf32(512),M=new i.Buf32(32),D=0;D<144;)x.lens[D++]=8;for(;D<256;)x.lens[D++]=9;for(;D<280;)x.lens[D++]=7;for(;D<288;)x.lens[D++]=8;for(g(d,x.lens,0,288,F,0,x.work,{bits:9}),D=0;D<32;)x.lens[D++]=5;g(c,x.lens,0,32,M,0,x.work,{bits:5}),I=!1}x.lencode=F,x.lenbits=9,x.distcode=M,x.distbits=5}function Y(x,D,f,L){var tt,W=x.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new i.Buf8(W.wsize)),L>=W.wsize?(i.arraySet(W.window,D,f-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(L<(tt=W.wsize-W.wnext)&&(tt=L),i.arraySet(W.window,D,f-L,tt,W.wnext),(L-=tt)?(i.arraySet(W.window,D,f-L,L,0),W.wnext=L,W.whave=W.wsize):(W.wnext+=tt,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=tt))),0}s.inflateReset=C,s.inflateReset2=S,s.inflateResetKeep=E,s.inflateInit=function(x){return U(x,15)},s.inflateInit2=U,s.inflate=function(x,D){var f,L,tt,W,rt,H,Q,z,T,J,K,G,at,dt,nt,st,ft,lt,bt,gt,l,P,B,k,w=0,A=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return p;(f=x.state).mode===12&&(f.mode=13),rt=x.next_out,tt=x.output,Q=x.avail_out,W=x.next_in,L=x.input,H=x.avail_in,z=f.hold,T=f.bits,J=H,K=Q,P=_;t:for(;;)switch(f.mode){case h:if(f.wrap===0){f.mode=13;break}for(;T<16;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(2&f.wrap&&z===35615){A[f.check=0]=255&z,A[1]=z>>>8&255,f.check=a(f.check,A,2,0),T=z=0,f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&z)<<8)+(z>>8))%31){x.msg="incorrect header check",f.mode=30;break}if((15&z)!=8){x.msg="unknown compression method",f.mode=30;break}if(T-=4,l=8+(15&(z>>>=4)),f.wbits===0)f.wbits=l;else if(l>f.wbits){x.msg="invalid window size",f.mode=30;break}f.dmax=1<<l,x.adler=f.check=1,f.mode=512&z?10:12,T=z=0;break;case 2:for(;T<16;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(f.flags=z,(255&f.flags)!=8){x.msg="unknown compression method",f.mode=30;break}if(57344&f.flags){x.msg="unknown header flags set",f.mode=30;break}f.head&&(f.head.text=z>>8&1),512&f.flags&&(A[0]=255&z,A[1]=z>>>8&255,f.check=a(f.check,A,2,0)),T=z=0,f.mode=3;case 3:for(;T<32;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.head&&(f.head.time=z),512&f.flags&&(A[0]=255&z,A[1]=z>>>8&255,A[2]=z>>>16&255,A[3]=z>>>24&255,f.check=a(f.check,A,4,0)),T=z=0,f.mode=4;case 4:for(;T<16;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.head&&(f.head.xflags=255&z,f.head.os=z>>8),512&f.flags&&(A[0]=255&z,A[1]=z>>>8&255,f.check=a(f.check,A,2,0)),T=z=0,f.mode=5;case 5:if(1024&f.flags){for(;T<16;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.length=z,f.head&&(f.head.extra_len=z),512&f.flags&&(A[0]=255&z,A[1]=z>>>8&255,f.check=a(f.check,A,2,0)),T=z=0}else f.head&&(f.head.extra=null);f.mode=6;case 6:if(1024&f.flags&&(H<(G=f.length)&&(G=H),G&&(f.head&&(l=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),i.arraySet(f.head.extra,L,W,G,l)),512&f.flags&&(f.check=a(f.check,L,G,W)),H-=G,W+=G,f.length-=G),f.length))break t;f.length=0,f.mode=7;case 7:if(2048&f.flags){if(H===0)break t;for(G=0;l=L[W+G++],f.head&&l&&f.length<65536&&(f.head.name+=String.fromCharCode(l)),l&&G<H;);if(512&f.flags&&(f.check=a(f.check,L,G,W)),H-=G,W+=G,l)break t}else f.head&&(f.head.name=null);f.length=0,f.mode=8;case 8:if(4096&f.flags){if(H===0)break t;for(G=0;l=L[W+G++],f.head&&l&&f.length<65536&&(f.head.comment+=String.fromCharCode(l)),l&&G<H;);if(512&f.flags&&(f.check=a(f.check,L,G,W)),H-=G,W+=G,l)break t}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;T<16;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(z!==(65535&f.check)){x.msg="header crc mismatch",f.mode=30;break}T=z=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),x.adler=f.check=0,f.mode=12;break;case 10:for(;T<32;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}x.adler=f.check=b(z),T=z=0,f.mode=11;case 11:if(f.havedict===0)return x.next_out=rt,x.avail_out=Q,x.next_in=W,x.avail_in=H,f.hold=z,f.bits=T,2;x.adler=f.check=1,f.mode=12;case 12:if(D===5||D===6)break t;case 13:if(f.last){z>>>=7&T,T-=7&T,f.mode=27;break}for(;T<3;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}switch(f.last=1&z,T-=1,3&(z>>>=1)){case 0:f.mode=14;break;case 1:if(V(f),f.mode=20,D!==6)break;z>>>=2,T-=2;break t;case 2:f.mode=17;break;case 3:x.msg="invalid block type",f.mode=30}z>>>=2,T-=2;break;case 14:for(z>>>=7&T,T-=7&T;T<32;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if((65535&z)!=(z>>>16^65535)){x.msg="invalid stored block lengths",f.mode=30;break}if(f.length=65535&z,T=z=0,f.mode=15,D===6)break t;case 15:f.mode=16;case 16:if(G=f.length){if(H<G&&(G=H),Q<G&&(G=Q),G===0)break t;i.arraySet(tt,L,W,G,rt),H-=G,W+=G,Q-=G,rt+=G,f.length-=G;break}f.mode=12;break;case 17:for(;T<14;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(f.nlen=257+(31&z),z>>>=5,T-=5,f.ndist=1+(31&z),z>>>=5,T-=5,f.ncode=4+(15&z),z>>>=4,T-=4,286<f.nlen||30<f.ndist){x.msg="too many length or distance symbols",f.mode=30;break}f.have=0,f.mode=18;case 18:for(;f.have<f.ncode;){for(;T<3;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.lens[N[f.have++]]=7&z,z>>>=3,T-=3}for(;f.have<19;)f.lens[N[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,B={bits:f.lenbits},P=g(0,f.lens,0,19,f.lencode,0,f.work,B),f.lenbits=B.bits,P){x.msg="invalid code lengths set",f.mode=30;break}f.have=0,f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;st=(w=f.lencode[z&(1<<f.lenbits)-1])>>>16&255,ft=65535&w,!((nt=w>>>24)<=T);){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(ft<16)z>>>=nt,T-=nt,f.lens[f.have++]=ft;else{if(ft===16){for(k=nt+2;T<k;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(z>>>=nt,T-=nt,f.have===0){x.msg="invalid bit length repeat",f.mode=30;break}l=f.lens[f.have-1],G=3+(3&z),z>>>=2,T-=2}else if(ft===17){for(k=nt+3;T<k;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}T-=nt,l=0,G=3+(7&(z>>>=nt)),z>>>=3,T-=3}else{for(k=nt+7;T<k;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}T-=nt,l=0,G=11+(127&(z>>>=nt)),z>>>=7,T-=7}if(f.have+G>f.nlen+f.ndist){x.msg="invalid bit length repeat",f.mode=30;break}for(;G--;)f.lens[f.have++]=l}}if(f.mode===30)break;if(f.lens[256]===0){x.msg="invalid code -- missing end-of-block",f.mode=30;break}if(f.lenbits=9,B={bits:f.lenbits},P=g(d,f.lens,0,f.nlen,f.lencode,0,f.work,B),f.lenbits=B.bits,P){x.msg="invalid literal/lengths set",f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,B={bits:f.distbits},P=g(c,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,B),f.distbits=B.bits,P){x.msg="invalid distances set",f.mode=30;break}if(f.mode=20,D===6)break t;case 20:f.mode=21;case 21:if(6<=H&&258<=Q){x.next_out=rt,x.avail_out=Q,x.next_in=W,x.avail_in=H,f.hold=z,f.bits=T,m(x,K),rt=x.next_out,tt=x.output,Q=x.avail_out,W=x.next_in,L=x.input,H=x.avail_in,z=f.hold,T=f.bits,f.mode===12&&(f.back=-1);break}for(f.back=0;st=(w=f.lencode[z&(1<<f.lenbits)-1])>>>16&255,ft=65535&w,!((nt=w>>>24)<=T);){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(st&&!(240&st)){for(lt=nt,bt=st,gt=ft;st=(w=f.lencode[gt+((z&(1<<lt+bt)-1)>>lt)])>>>16&255,ft=65535&w,!(lt+(nt=w>>>24)<=T);){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}z>>>=lt,T-=lt,f.back+=lt}if(z>>>=nt,T-=nt,f.back+=nt,f.length=ft,st===0){f.mode=26;break}if(32&st){f.back=-1,f.mode=12;break}if(64&st){x.msg="invalid literal/length code",f.mode=30;break}f.extra=15&st,f.mode=22;case 22:if(f.extra){for(k=f.extra;T<k;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.length+=z&(1<<f.extra)-1,z>>>=f.extra,T-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=23;case 23:for(;st=(w=f.distcode[z&(1<<f.distbits)-1])>>>16&255,ft=65535&w,!((nt=w>>>24)<=T);){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(!(240&st)){for(lt=nt,bt=st,gt=ft;st=(w=f.distcode[gt+((z&(1<<lt+bt)-1)>>lt)])>>>16&255,ft=65535&w,!(lt+(nt=w>>>24)<=T);){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}z>>>=lt,T-=lt,f.back+=lt}if(z>>>=nt,T-=nt,f.back+=nt,64&st){x.msg="invalid distance code",f.mode=30;break}f.offset=ft,f.extra=15&st,f.mode=24;case 24:if(f.extra){for(k=f.extra;T<k;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}f.offset+=z&(1<<f.extra)-1,z>>>=f.extra,T-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){x.msg="invalid distance too far back",f.mode=30;break}f.mode=25;case 25:if(Q===0)break t;if(G=K-Q,f.offset>G){if((G=f.offset-G)>f.whave&&f.sane){x.msg="invalid distance too far back",f.mode=30;break}at=G>f.wnext?(G-=f.wnext,f.wsize-G):f.wnext-G,G>f.length&&(G=f.length),dt=f.window}else dt=tt,at=rt-f.offset,G=f.length;for(Q<G&&(G=Q),Q-=G,f.length-=G;tt[rt++]=dt[at++],--G;);f.length===0&&(f.mode=21);break;case 26:if(Q===0)break t;tt[rt++]=f.length,Q--,f.mode=21;break;case 27:if(f.wrap){for(;T<32;){if(H===0)break t;H--,z|=L[W++]<<T,T+=8}if(K-=Q,x.total_out+=K,f.total+=K,K&&(x.adler=f.check=f.flags?a(f.check,tt,K,rt-K):n(f.check,tt,K,rt-K)),K=Q,(f.flags?z:b(z))!==f.check){x.msg="incorrect data check",f.mode=30;break}T=z=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;T<32;){if(H===0)break t;H--,z+=L[W++]<<T,T+=8}if(z!==(4294967295&f.total)){x.msg="incorrect length check",f.mode=30;break}T=z=0}f.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return p}return x.next_out=rt,x.avail_out=Q,x.next_in=W,x.avail_in=H,f.hold=z,f.bits=T,(f.wsize||K!==x.avail_out&&f.mode<30&&(f.mode<27||D!==4))&&Y(x,x.output,x.next_out,K-x.avail_out)?(f.mode=31,-4):(J-=x.avail_in,K-=x.avail_out,x.total_in+=J,x.total_out+=K,f.total+=K,f.wrap&&K&&(x.adler=f.check=f.flags?a(f.check,tt,K,x.next_out-K):n(f.check,tt,K,x.next_out-K)),x.data_type=f.bits+(f.last?64:0)+(f.mode===12?128:0)+(f.mode===20||f.mode===15?256:0),(J==0&&K===0||D===4)&&P===_&&(P=-5),P)},s.inflateEnd=function(x){if(!x||!x.state)return p;var D=x.state;return D.window&&(D.window=null),x.state=null,_},s.inflateGetHeader=function(x,D){var f;return x&&x.state&&2&(f=x.state).wrap?((f.head=D).done=!1,_):p},s.inflateSetDictionary=function(x,D){var f,L=D.length;return x&&x.state?(f=x.state).wrap!==0&&f.mode!==11?p:f.mode===11&&n(1,D,L,0)!==f.check?-3:Y(x,D,L,L)?(f.mode=31,-4):(f.havedict=1,_):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,s){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(d,c,_,p,h,u,y,b){var v,E,C,S,U,F,M,I,V,Y=b.bits,x=0,D=0,f=0,L=0,tt=0,W=0,rt=0,H=0,Q=0,z=0,T=null,J=0,K=new i.Buf16(16),G=new i.Buf16(16),at=null,dt=0;for(x=0;x<=15;x++)K[x]=0;for(D=0;D<p;D++)K[c[_+D]]++;for(tt=Y,L=15;1<=L&&K[L]===0;L--);if(L<tt&&(tt=L),L===0)return h[u++]=20971520,h[u++]=20971520,b.bits=1,0;for(f=1;f<L&&K[f]===0;f++);for(tt<f&&(tt=f),x=H=1;x<=15;x++)if(H<<=1,(H-=K[x])<0)return-1;if(0<H&&(d===0||L!==1))return-1;for(G[1]=0,x=1;x<15;x++)G[x+1]=G[x]+K[x];for(D=0;D<p;D++)c[_+D]!==0&&(y[G[c[_+D]]++]=D);if(F=d===0?(T=at=y,19):d===1?(T=n,J-=257,at=a,dt-=257,256):(T=m,at=g,-1),x=f,U=u,rt=D=z=0,C=-1,S=(Q=1<<(W=tt))-1,d===1&&852<Q||d===2&&592<Q)return 1;for(;;){for(M=x-rt,V=y[D]<F?(I=0,y[D]):y[D]>F?(I=at[dt+y[D]],T[J+y[D]]):(I=96,0),v=1<<x-rt,f=E=1<<W;h[U+(z>>rt)+(E-=v)]=M<<24|I<<16|V|0,E!==0;);for(v=1<<x-1;z&v;)v>>=1;if(v!==0?(z&=v-1,z+=v):z=0,D++,--K[x]==0){if(x===L)break;x=c[_+y[D]]}if(tt<x&&(z&S)!==C){for(rt===0&&(rt=tt),U+=f,H=1<<(W=x-rt);W+rt<L&&!((H-=K[W+rt])<=0);)W++,H<<=1;if(Q+=1<<W,d===1&&852<Q||d===2&&592<Q)return 1;h[C=z&S]=tt<<24|W<<16|U-u|0}}return z!==0&&(h[U+z]=x-rt<<24|64<<16|0),b.bits=tt,0}},{"../utils/common":41}],51:[function(t,o,s){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,s){var i=t("../utils/common"),n=0,a=1;function m(w){for(var A=w.length;0<=--A;)w[A]=0}var g=0,d=29,c=256,_=c+1+d,p=30,h=19,u=2*_+1,y=15,b=16,v=7,E=256,C=16,S=17,U=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(_+2));m(Y);var x=new Array(2*p);m(x);var D=new Array(512);m(D);var f=new Array(256);m(f);var L=new Array(d);m(L);var tt,W,rt,H=new Array(p);function Q(w,A,N,j,R){this.static_tree=w,this.extra_bits=A,this.extra_base=N,this.elems=j,this.max_length=R,this.has_stree=w&&w.length}function z(w,A){this.dyn_tree=w,this.max_code=0,this.stat_desc=A}function T(w){return w<256?D[w]:D[256+(w>>>7)]}function J(w,A){w.pending_buf[w.pending++]=255&A,w.pending_buf[w.pending++]=A>>>8&255}function K(w,A,N){w.bi_valid>b-N?(w.bi_buf|=A<<w.bi_valid&65535,J(w,w.bi_buf),w.bi_buf=A>>b-w.bi_valid,w.bi_valid+=N-b):(w.bi_buf|=A<<w.bi_valid&65535,w.bi_valid+=N)}function G(w,A,N){K(w,N[2*A],N[2*A+1])}function at(w,A){for(var N=0;N|=1&w,w>>>=1,N<<=1,0<--A;);return N>>>1}function dt(w,A,N){var j,R,Z=new Array(y+1),$=0;for(j=1;j<=y;j++)Z[j]=$=$+N[j-1]<<1;for(R=0;R<=A;R++){var q=w[2*R+1];q!==0&&(w[2*R]=at(Z[q]++,q))}}function nt(w){var A;for(A=0;A<_;A++)w.dyn_ltree[2*A]=0;for(A=0;A<p;A++)w.dyn_dtree[2*A]=0;for(A=0;A<h;A++)w.bl_tree[2*A]=0;w.dyn_ltree[2*E]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function st(w){8<w.bi_valid?J(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function ft(w,A,N,j){var R=2*A,Z=2*N;return w[R]<w[Z]||w[R]===w[Z]&&j[A]<=j[N]}function lt(w,A,N){for(var j=w.heap[N],R=N<<1;R<=w.heap_len&&(R<w.heap_len&&ft(A,w.heap[R+1],w.heap[R],w.depth)&&R++,!ft(A,j,w.heap[R],w.depth));)w.heap[N]=w.heap[R],N=R,R<<=1;w.heap[N]=j}function bt(w,A,N){var j,R,Z,$,q=0;if(w.last_lit!==0)for(;j=w.pending_buf[w.d_buf+2*q]<<8|w.pending_buf[w.d_buf+2*q+1],R=w.pending_buf[w.l_buf+q],q++,j===0?G(w,R,A):(G(w,(Z=f[R])+c+1,A),($=F[Z])!==0&&K(w,R-=L[Z],$),G(w,Z=T(--j),N),($=M[Z])!==0&&K(w,j-=H[Z],$)),q<w.last_lit;);G(w,E,A)}function gt(w,A){var N,j,R,Z=A.dyn_tree,$=A.stat_desc.static_tree,q=A.stat_desc.has_stree,X=A.stat_desc.elems,ot=-1;for(w.heap_len=0,w.heap_max=u,N=0;N<X;N++)Z[2*N]!==0?(w.heap[++w.heap_len]=ot=N,w.depth[N]=0):Z[2*N+1]=0;for(;w.heap_len<2;)Z[2*(R=w.heap[++w.heap_len]=ot<2?++ot:0)]=1,w.depth[R]=0,w.opt_len--,q&&(w.static_len-=$[2*R+1]);for(A.max_code=ot,N=w.heap_len>>1;1<=N;N--)lt(w,Z,N);for(R=X;N=w.heap[1],w.heap[1]=w.heap[w.heap_len--],lt(w,Z,1),j=w.heap[1],w.heap[--w.heap_max]=N,w.heap[--w.heap_max]=j,Z[2*R]=Z[2*N]+Z[2*j],w.depth[R]=(w.depth[N]>=w.depth[j]?w.depth[N]:w.depth[j])+1,Z[2*N+1]=Z[2*j+1]=R,w.heap[1]=R++,lt(w,Z,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(it,mt){var Bt,wt,Ft,ut,Lt,ne,Et=mt.dyn_tree,we=mt.max_code,dr=mt.stat_desc.static_tree,hr=mt.stat_desc.has_stree,pr=mt.stat_desc.extra_bits,ve=mt.stat_desc.extra_base,It=mt.stat_desc.max_length,Nt=0;for(ut=0;ut<=y;ut++)it.bl_count[ut]=0;for(Et[2*it.heap[it.heap_max]+1]=0,Bt=it.heap_max+1;Bt<u;Bt++)It<(ut=Et[2*Et[2*(wt=it.heap[Bt])+1]+1]+1)&&(ut=It,Nt++),Et[2*wt+1]=ut,we<wt||(it.bl_count[ut]++,Lt=0,ve<=wt&&(Lt=pr[wt-ve]),ne=Et[2*wt],it.opt_len+=ne*(ut+Lt),hr&&(it.static_len+=ne*(dr[2*wt+1]+Lt)));if(Nt!==0){do{for(ut=It-1;it.bl_count[ut]===0;)ut--;it.bl_count[ut]--,it.bl_count[ut+1]+=2,it.bl_count[It]--,Nt-=2}while(0<Nt);for(ut=It;ut!==0;ut--)for(wt=it.bl_count[ut];wt!==0;)we<(Ft=it.heap[--Bt])||(Et[2*Ft+1]!==ut&&(it.opt_len+=(ut-Et[2*Ft+1])*Et[2*Ft],Et[2*Ft+1]=ut),wt--)}}(w,A),dt(Z,ot,w.bl_count)}function l(w,A,N){var j,R,Z=-1,$=A[1],q=0,X=7,ot=4;for($===0&&(X=138,ot=3),A[2*(N+1)+1]=65535,j=0;j<=N;j++)R=$,$=A[2*(j+1)+1],++q<X&&R===$||(q<ot?w.bl_tree[2*R]+=q:R!==0?(R!==Z&&w.bl_tree[2*R]++,w.bl_tree[2*C]++):q<=10?w.bl_tree[2*S]++:w.bl_tree[2*U]++,Z=R,ot=(q=0)===$?(X=138,3):R===$?(X=6,3):(X=7,4))}function P(w,A,N){var j,R,Z=-1,$=A[1],q=0,X=7,ot=4;for($===0&&(X=138,ot=3),j=0;j<=N;j++)if(R=$,$=A[2*(j+1)+1],!(++q<X&&R===$)){if(q<ot)for(;G(w,R,w.bl_tree),--q!=0;);else R!==0?(R!==Z&&(G(w,R,w.bl_tree),q--),G(w,C,w.bl_tree),K(w,q-3,2)):q<=10?(G(w,S,w.bl_tree),K(w,q-3,3)):(G(w,U,w.bl_tree),K(w,q-11,7));Z=R,ot=(q=0)===$?(X=138,3):R===$?(X=6,3):(X=7,4)}}m(H);var B=!1;function k(w,A,N,j){K(w,(g<<1)+(j?1:0),3),function(R,Z,$,q){st(R),q&&(J(R,$),J(R,~$)),i.arraySet(R.pending_buf,R.window,Z,$,R.pending),R.pending+=$}(w,A,N,!0)}s._tr_init=function(w){B||(function(){var A,N,j,R,Z,$=new Array(y+1);for(R=j=0;R<d-1;R++)for(L[R]=j,A=0;A<1<<F[R];A++)f[j++]=R;for(f[j-1]=R,R=Z=0;R<16;R++)for(H[R]=Z,A=0;A<1<<M[R];A++)D[Z++]=R;for(Z>>=7;R<p;R++)for(H[R]=Z<<7,A=0;A<1<<M[R]-7;A++)D[256+Z++]=R;for(N=0;N<=y;N++)$[N]=0;for(A=0;A<=143;)Y[2*A+1]=8,A++,$[8]++;for(;A<=255;)Y[2*A+1]=9,A++,$[9]++;for(;A<=279;)Y[2*A+1]=7,A++,$[7]++;for(;A<=287;)Y[2*A+1]=8,A++,$[8]++;for(dt(Y,_+1,$),A=0;A<p;A++)x[2*A+1]=5,x[2*A]=at(A,5);tt=new Q(Y,F,c+1,_,y),W=new Q(x,M,0,p,y),rt=new Q(new Array(0),I,0,h,v)}(),B=!0),w.l_desc=new z(w.dyn_ltree,tt),w.d_desc=new z(w.dyn_dtree,W),w.bl_desc=new z(w.bl_tree,rt),w.bi_buf=0,w.bi_valid=0,nt(w)},s._tr_stored_block=k,s._tr_flush_block=function(w,A,N,j){var R,Z,$=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(q){var X,ot=4093624447;for(X=0;X<=31;X++,ot>>>=1)if(1&ot&&q.dyn_ltree[2*X]!==0)return n;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return a;for(X=32;X<c;X++)if(q.dyn_ltree[2*X]!==0)return a;return n}(w)),gt(w,w.l_desc),gt(w,w.d_desc),$=function(q){var X;for(l(q,q.dyn_ltree,q.l_desc.max_code),l(q,q.dyn_dtree,q.d_desc.max_code),gt(q,q.bl_desc),X=h-1;3<=X&&q.bl_tree[2*V[X]+1]===0;X--);return q.opt_len+=3*(X+1)+5+5+4,X}(w),R=w.opt_len+3+7>>>3,(Z=w.static_len+3+7>>>3)<=R&&(R=Z)):R=Z=N+5,N+4<=R&&A!==-1?k(w,A,N,j):w.strategy===4||Z===R?(K(w,2+(j?1:0),3),bt(w,Y,x)):(K(w,4+(j?1:0),3),function(q,X,ot,it){var mt;for(K(q,X-257,5),K(q,ot-1,5),K(q,it-4,4),mt=0;mt<it;mt++)K(q,q.bl_tree[2*V[mt]+1],3);P(q,q.dyn_ltree,X-1),P(q,q.dyn_dtree,ot-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,$+1),bt(w,w.dyn_ltree,w.dyn_dtree)),nt(w),j&&st(w)},s._tr_tally=function(w,A,N){return w.pending_buf[w.d_buf+2*w.last_lit]=A>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&A,w.pending_buf[w.l_buf+w.last_lit]=255&N,w.last_lit++,A===0?w.dyn_ltree[2*N]++:(w.matches++,A--,w.dyn_ltree[2*(f[N]+c+1)]++,w.dyn_dtree[2*T(A)]++),w.last_lit===w.lit_bufsize-1},s._tr_align=function(w){K(w,2,3),G(w,E,Y),function(A){A.bi_valid===16?(J(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,s){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,s){(function(i){(function(n,a){if(!n.setImmediate){var m,g,d,c,_=1,p={},h=!1,u=n.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(n);y=y&&y.setTimeout?y:n,m={}.toString.call(n.process)==="[object process]"?function(C){process.nextTick(function(){v(C)})}:function(){if(n.postMessage&&!n.importScripts){var C=!0,S=n.onmessage;return n.onmessage=function(){C=!1},n.postMessage("","*"),n.onmessage=S,C}}()?(c="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",E,!1):n.attachEvent("onmessage",E),function(C){n.postMessage(c+C,"*")}):n.MessageChannel?((d=new MessageChannel).port1.onmessage=function(C){v(C.data)},function(C){d.port2.postMessage(C)}):u&&"onreadystatechange"in u.createElement("script")?(g=u.documentElement,function(C){var S=u.createElement("script");S.onreadystatechange=function(){v(C),S.onreadystatechange=null,g.removeChild(S),S=null},g.appendChild(S)}):function(C){setTimeout(v,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),U=0;U<S.length;U++)S[U]=arguments[U+1];var F={callback:C,args:S};return p[_]=F,m(_),_++},y.clearImmediate=b}function b(C){delete p[C]}function v(C){if(h)setTimeout(v,0,C);else{var S=p[C];if(S){h=!0;try{(function(U){var F=U.callback,M=U.args;switch(M.length){case 0:F();break;case 1:F(M[0]);break;case 2:F(M[0],M[1]);break;case 3:F(M[0],M[1],M[2]);break;default:F.apply(a,M)}})(S)}finally{b(C),h=!1}}}}function E(C){C.source===n&&typeof C.data=="string"&&C.data.indexOf(c)===0&&v(+C.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof xt<"u"?xt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(je);var Sr=je.exports;const Ar=wr(Sr);function Me(r,e){return function(){return r.apply(e,arguments)}}const{toString:Cr}=Object.prototype,{getPrototypeOf:pe}=Object,{iterator:$t,toStringTag:We}=Symbol,Xt=(r=>e=>{const t=Cr.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yt=r=>(r=r.toLowerCase(),e=>Xt(e)===r),Jt=r=>e=>typeof e===r,{isArray:Ot}=Array,Ut=Jt("undefined");function Rr(r){return r!==null&&!Ut(r)&&r.constructor!==null&&!Ut(r.constructor)&&pt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const He=yt("ArrayBuffer");function Tr(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&He(r.buffer),e}const Or=Jt("string"),pt=Jt("function"),Ze=Jt("number"),Yt=r=>r!==null&&typeof r=="object",zr=r=>r===!0||r===!1,Wt=r=>{if(Xt(r)!=="object")return!1;const e=pe(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(We in r)&&!($t in r)},Br=yt("Date"),Fr=yt("File"),Ir=yt("Blob"),Dr=yt("FileList"),Ur=r=>Yt(r)&&pt(r.pipe),Pr=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||pt(r.append)&&((e=Xt(r))==="formdata"||e==="object"&&pt(r.toString)&&r.toString()==="[object FormData]"))},Lr=yt("URLSearchParams"),[Nr,jr,Mr,Wr]=["ReadableStream","Request","Response","Headers"].map(yt),Hr=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pt(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let o,s;if(typeof r!="object"&&(r=[r]),Ot(r))for(o=0,s=r.length;o<s;o++)e.call(null,r[o],o,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),n=i.length;let a;for(o=0;o<n;o++)a=i[o],e.call(null,r[a],a,r)}}function qe(r,e){e=e.toLowerCase();const t=Object.keys(r);let o=t.length,s;for(;o-- >0;)if(s=t[o],e===s.toLowerCase())return s;return null}const At=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ve=r=>!Ut(r)&&r!==At;function le(){const{caseless:r}=Ve(this)&&this||{},e={},t=(o,s)=>{const i=r&&qe(e,s)||s;Wt(e[i])&&Wt(o)?e[i]=le(e[i],o):Wt(o)?e[i]=le({},o):Ot(o)?e[i]=o.slice():e[i]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Pt(arguments[o],t);return e}const Zr=(r,e,t,{allOwnKeys:o}={})=>(Pt(e,(s,i)=>{t&&pt(s)?r[i]=Me(s,t):r[i]=s},{allOwnKeys:o}),r),qr=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Vr=(r,e,t,o)=>{r.prototype=Object.create(e.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Gr=(r,e,t,o)=>{let s,i,n;const a={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)n=s[i],(!o||o(n,r,e))&&!a[n]&&(e[n]=r[n],a[n]=!0);r=t!==!1&&pe(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Kr=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const o=r.indexOf(e,t);return o!==-1&&o===t},$r=r=>{if(!r)return null;if(Ot(r))return r;let e=r.length;if(!Ze(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Xr=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&pe(Uint8Array)),Jr=(r,e)=>{const o=(r&&r[$t]).call(r);let s;for(;(s=o.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},Yr=(r,e)=>{let t;const o=[];for(;(t=r.exec(e))!==null;)o.push(t);return o},Qr=yt("HTMLFormElement"),tn=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,s){return o.toUpperCase()+s}),Ee=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),en=yt("RegExp"),Ge=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),o={};Pt(t,(s,i)=>{let n;(n=e(s,i,r))!==!1&&(o[i]=n||s)}),Object.defineProperties(r,o)},rn=r=>{Ge(r,(e,t)=>{if(pt(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=r[t];if(pt(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},nn=(r,e)=>{const t={},o=s=>{s.forEach(i=>{t[i]=!0})};return Ot(r)?o(r):o(String(r).split(e)),t},sn=()=>{},on=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function an(r){return!!(r&&pt(r.append)&&r[We]==="FormData"&&r[$t])}const ln=r=>{const e=new Array(10),t=(o,s)=>{if(Yt(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const i=Ot(o)?[]:{};return Pt(o,(n,a)=>{const m=t(n,s+1);!Ut(m)&&(i[a]=m)}),e[s]=void 0,i}}return o};return t(r,0)},un=yt("AsyncFunction"),cn=r=>r&&(Yt(r)||pt(r))&&pt(r.then)&&pt(r.catch),Ke=((r,e)=>r?setImmediate:e?((t,o)=>(At.addEventListener("message",({source:s,data:i})=>{s===At&&i===t&&o.length&&o.shift()()},!1),s=>{o.push(s),At.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pt(At.postMessage)),fn=typeof queueMicrotask<"u"?queueMicrotask.bind(At):typeof process<"u"&&process.nextTick||Ke,dn=r=>r!=null&&pt(r[$t]),O={isArray:Ot,isArrayBuffer:He,isBuffer:Rr,isFormData:Pr,isArrayBufferView:Tr,isString:Or,isNumber:Ze,isBoolean:zr,isObject:Yt,isPlainObject:Wt,isReadableStream:Nr,isRequest:jr,isResponse:Mr,isHeaders:Wr,isUndefined:Ut,isDate:Br,isFile:Fr,isBlob:Ir,isRegExp:en,isFunction:pt,isStream:Ur,isURLSearchParams:Lr,isTypedArray:Xr,isFileList:Dr,forEach:Pt,merge:le,extend:Zr,trim:Hr,stripBOM:qr,inherits:Vr,toFlatObject:Gr,kindOf:Xt,kindOfTest:yt,endsWith:Kr,toArray:$r,forEachEntry:Jr,matchAll:Yr,isHTMLForm:Qr,hasOwnProperty:Ee,hasOwnProp:Ee,reduceDescriptors:Ge,freezeMethods:rn,toObjectSet:nn,toCamelCase:tn,noop:sn,toFiniteNumber:on,findKey:qe,global:At,isContextDefined:Ve,isSpecCompliantForm:an,toJSONObject:ln,isAsyncFn:un,isThenable:cn,setImmediate:Ke,asap:fn,isIterable:dn};function et(r,e,t,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const $e=et.prototype,Xe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Xe[r]={value:r}});Object.defineProperties(et,Xe);Object.defineProperty($e,"isAxiosError",{value:!0});et.from=(r,e,t,o,s,i)=>{const n=Object.create($e);return O.toFlatObject(r,n,function(m){return m!==Error.prototype},a=>a!=="isAxiosError"),et.call(n,r.message,e,t,o,s),n.cause=r,n.name=r.name,i&&Object.assign(n,i),n};const hn=null;function ue(r){return O.isPlainObject(r)||O.isArray(r)}function Je(r){return O.endsWith(r,"[]")?r.slice(0,-2):r}function xe(r,e,t){return r?r.concat(e).map(function(s,i){return s=Je(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function pn(r){return O.isArray(r)&&!r.some(ue)}const mn=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Qt(r,e,t){if(!O.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=O.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(u,y){return!O.isUndefined(y[u])});const o=t.metaTokens,s=t.visitor||d,i=t.dots,n=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function g(h){if(h===null)return"";if(O.isDate(h))return h.toISOString();if(!m&&O.isBlob(h))throw new et("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(h)||O.isTypedArray(h)?m&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,u,y){let b=h;if(h&&!y&&typeof h=="object"){if(O.endsWith(u,"{}"))u=o?u:u.slice(0,-2),h=JSON.stringify(h);else if(O.isArray(h)&&pn(h)||(O.isFileList(h)||O.endsWith(u,"[]"))&&(b=O.toArray(h)))return u=Je(u),b.forEach(function(E,C){!(O.isUndefined(E)||E===null)&&e.append(n===!0?xe([u],C,i):n===null?u:u+"[]",g(E))}),!1}return ue(h)?!0:(e.append(xe(y,u,i),g(h)),!1)}const c=[],_=Object.assign(mn,{defaultVisitor:d,convertValue:g,isVisitable:ue});function p(h,u){if(!O.isUndefined(h)){if(c.indexOf(h)!==-1)throw Error("Circular reference detected in "+u.join("."));c.push(h),O.forEach(h,function(b,v){(!(O.isUndefined(b)||b===null)&&s.call(e,b,O.isString(v)?v.trim():v,u,_))===!0&&p(b,u?u.concat(v):[v])}),c.pop()}}if(!O.isObject(r))throw new TypeError("data must be an object");return p(r),e}function Se(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function me(r,e){this._pairs=[],r&&Qt(r,this,e)}const Ye=me.prototype;Ye.append=function(e,t){this._pairs.push([e,t])};Ye.toString=function(e){const t=e?function(o){return e.call(this,o,Se)}:Se;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function gn(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qe(r,e,t){if(!e)return r;const o=t&&t.encode||gn;O.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=O.isURLSearchParams(e)?e.toString():new me(e,t).toString(o),i){const n=r.indexOf("#");n!==-1&&(r=r.slice(0,n)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class _n{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(o){o!==null&&e(o)})}}const Ae=_n,tr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yn=typeof URLSearchParams<"u"?URLSearchParams:me,bn=typeof FormData<"u"?FormData:null,wn=typeof Blob<"u"?Blob:null,vn={isBrowser:!0,classes:{URLSearchParams:yn,FormData:bn,Blob:wn},protocols:["http","https","file","blob","url","data"]},ge=typeof window<"u"&&typeof document<"u",ce=typeof navigator=="object"&&navigator||void 0,kn=ge&&(!ce||["ReactNative","NativeScript","NS"].indexOf(ce.product)<0),En=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xn=ge&&window.location.href||"http://localhost",Sn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ge,hasStandardBrowserEnv:kn,hasStandardBrowserWebWorkerEnv:En,navigator:ce,origin:xn},Symbol.toStringTag,{value:"Module"})),ht={...Sn,...vn};function An(r,e){return Qt(r,new ht.classes.URLSearchParams,Object.assign({visitor:function(t,o,s,i){return ht.isNode&&O.isBuffer(t)?(this.append(o,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Cn(r){return O.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Rn(r){const e={},t=Object.keys(r);let o;const s=t.length;let i;for(o=0;o<s;o++)i=t[o],e[i]=r[i];return e}function er(r){function e(t,o,s,i){let n=t[i++];if(n==="__proto__")return!0;const a=Number.isFinite(+n),m=i>=t.length;return n=!n&&O.isArray(s)?s.length:n,m?(O.hasOwnProp(s,n)?s[n]=[s[n],o]:s[n]=o,!a):((!s[n]||!O.isObject(s[n]))&&(s[n]=[]),e(t,o,s[n],i)&&O.isArray(s[n])&&(s[n]=Rn(s[n])),!a)}if(O.isFormData(r)&&O.isFunction(r.entries)){const t={};return O.forEachEntry(r,(o,s)=>{e(Cn(o),s,t,0)}),t}return null}function Tn(r,e,t){if(O.isString(r))try{return(e||JSON.parse)(r),O.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(r)}const _e={transitional:tr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",s=o.indexOf("application/json")>-1,i=O.isObject(e);if(i&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return s?JSON.stringify(er(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return An(e,this.formSerializer).toString();if((a=O.isFileList(e))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Qt(a?{"files[]":e}:e,m&&new m,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),Tn(e)):e}],transformResponse:[function(e){const t=this.transitional||_e.transitional,o=t&&t.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(o&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(n)throw a.name==="SyntaxError"?et.from(a,et.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],r=>{_e.headers[r]={}});const ye=_e,On=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zn=r=>{const e={};let t,o,s;return r&&r.split(`
`).forEach(function(n){s=n.indexOf(":"),t=n.substring(0,s).trim().toLowerCase(),o=n.substring(s+1).trim(),!(!t||e[t]&&On[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},Ce=Symbol("internals");function Dt(r){return r&&String(r).trim().toLowerCase()}function Ht(r){return r===!1||r==null?r:O.isArray(r)?r.map(Ht):String(r)}function Bn(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(r);)e[o[1]]=o[2];return e}const Fn=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ie(r,e,t,o,s){if(O.isFunction(o))return o.call(this,e,t);if(s&&(e=t),!!O.isString(e)){if(O.isString(o))return e.indexOf(o)!==-1;if(O.isRegExp(o))return o.test(e)}}function In(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function Dn(r,e){const t=O.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+t,{value:function(s,i,n){return this[o].call(this,e,s,i,n)},configurable:!0})})}class te{constructor(e){e&&this.set(e)}set(e,t,o){const s=this;function i(a,m,g){const d=Dt(m);if(!d)throw new Error("header name must be a non-empty string");const c=O.findKey(s,d);(!c||s[c]===void 0||g===!0||g===void 0&&s[c]!==!1)&&(s[c||m]=Ht(a))}const n=(a,m)=>O.forEach(a,(g,d)=>i(g,d,m));if(O.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(O.isString(e)&&(e=e.trim())&&!Fn(e))n(zn(e),t);else if(O.isObject(e)&&O.isIterable(e)){let a={},m,g;for(const d of e){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[g=d[0]]=(m=a[g])?O.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}n(a,t)}else e!=null&&i(t,e,o);return this}get(e,t){if(e=Dt(e),e){const o=O.findKey(this,e);if(o){const s=this[o];if(!t)return s;if(t===!0)return Bn(s);if(O.isFunction(t))return t.call(this,s,o);if(O.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Dt(e),e){const o=O.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||ie(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let s=!1;function i(n){if(n=Dt(n),n){const a=O.findKey(o,n);a&&(!t||ie(o,o[a],a,t))&&(delete o[a],s=!0)}}return O.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let o=t.length,s=!1;for(;o--;){const i=t[o];(!e||ie(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,o={};return O.forEach(this,(s,i)=>{const n=O.findKey(o,i);if(n){t[n]=Ht(s),delete t[i];return}const a=e?In(i):String(i).trim();a!==i&&delete t[i],t[a]=Ht(s),o[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return O.forEach(this,(o,s)=>{o!=null&&o!==!1&&(t[s]=e&&O.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(s=>o.set(s)),o}static accessor(e){const o=(this[Ce]=this[Ce]={accessors:{}}).accessors,s=this.prototype;function i(n){const a=Dt(n);o[a]||(Dn(s,n),o[a]=!0)}return O.isArray(e)?e.forEach(i):i(e),this}}te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(te.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(o){this[t]=o}}});O.freezeMethods(te);const _t=te;function se(r,e){const t=this||ye,o=e||t,s=_t.from(o.headers);let i=o.data;return O.forEach(r,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function rr(r){return!!(r&&r.__CANCEL__)}function zt(r,e,t){et.call(this,r??"canceled",et.ERR_CANCELED,e,t),this.name="CanceledError"}O.inherits(zt,et,{__CANCEL__:!0});function nr(r,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?r(t):e(new et("Request failed with status code "+t.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Un(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Pn(r,e){r=r||10;const t=new Array(r),o=new Array(r);let s=0,i=0,n;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),d=o[i];n||(n=g),t[s]=m,o[s]=g;let c=i,_=0;for(;c!==s;)_+=t[c++],c=c%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),g-n<e)return;const p=d&&g-d;return p?Math.round(_*1e3/p):void 0}}function Ln(r,e){let t=0,o=1e3/e,s,i;const n=(g,d=Date.now())=>{t=d,s=null,i&&(clearTimeout(i),i=null),r.apply(null,g)};return[(...g)=>{const d=Date.now(),c=d-t;c>=o?n(g,d):(s=g,i||(i=setTimeout(()=>{i=null,n(s)},o-c)))},()=>s&&n(s)]}const Vt=(r,e,t=3)=>{let o=0;const s=Pn(50,250);return Ln(i=>{const n=i.loaded,a=i.lengthComputable?i.total:void 0,m=n-o,g=s(m),d=n<=a;o=n;const c={loaded:n,total:a,progress:a?n/a:void 0,bytes:m,rate:g||void 0,estimated:g&&a&&d?(a-n)/g:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(c)},t)},Re=(r,e)=>{const t=r!=null;return[o=>e[0]({lengthComputable:t,total:r,loaded:o}),e[1]]},Te=r=>(...e)=>O.asap(()=>r(...e)),Nn=ht.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ht.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,jn=ht.hasStandardBrowserEnv?{write(r,e,t,o,s,i){const n=[r+"="+encodeURIComponent(e)];O.isNumber(t)&&n.push("expires="+new Date(t).toGMTString()),O.isString(o)&&n.push("path="+o),O.isString(s)&&n.push("domain="+s),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mn(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Wn(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function ir(r,e,t){let o=!Mn(e);return r&&(o||t==!1)?Wn(r,e):e}const Oe=r=>r instanceof _t?{...r}:r;function Ct(r,e){e=e||{};const t={};function o(g,d,c,_){return O.isPlainObject(g)&&O.isPlainObject(d)?O.merge.call({caseless:_},g,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(g,d,c,_){if(O.isUndefined(d)){if(!O.isUndefined(g))return o(void 0,g,c,_)}else return o(g,d,c,_)}function i(g,d){if(!O.isUndefined(d))return o(void 0,d)}function n(g,d){if(O.isUndefined(d)){if(!O.isUndefined(g))return o(void 0,g)}else return o(void 0,d)}function a(g,d,c){if(c in e)return o(g,d);if(c in r)return o(void 0,g)}const m={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:a,headers:(g,d,c)=>s(Oe(g),Oe(d),c,!0)};return O.forEach(Object.keys(Object.assign({},r,e)),function(d){const c=m[d]||s,_=c(r[d],e[d],d);O.isUndefined(_)&&c!==a||(t[d]=_)}),t}const sr=r=>{const e=Ct({},r);let{data:t,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:i,headers:n,auth:a}=e;e.headers=n=_t.from(n),e.url=Qe(ir(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&n.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let m;if(O.isFormData(t)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((m=n.getContentType())!==!1){const[g,...d]=m?m.split(";").map(c=>c.trim()).filter(Boolean):[];n.setContentType([g||"multipart/form-data",...d].join("; "))}}if(ht.hasStandardBrowserEnv&&(o&&O.isFunction(o)&&(o=o(e)),o||o!==!1&&Nn(e.url))){const g=s&&i&&jn.read(i);g&&n.set(s,g)}return e},Hn=typeof XMLHttpRequest<"u",Zn=Hn&&function(r){return new Promise(function(t,o){const s=sr(r);let i=s.data;const n=_t.from(s.headers).normalize();let{responseType:a,onUploadProgress:m,onDownloadProgress:g}=s,d,c,_,p,h;function u(){p&&p(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function b(){if(!y)return;const E=_t.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:r,request:y};nr(function(F){t(F),u()},function(F){o(F),u()},S),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(o(new et("Request aborted",et.ECONNABORTED,r,y)),y=null)},y.onerror=function(){o(new et("Network Error",et.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||tr;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),o(new et(C,S.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,r,y)),y=null},i===void 0&&n.setContentType(null),"setRequestHeader"in y&&O.forEach(n.toJSON(),function(C,S){y.setRequestHeader(S,C)}),O.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),g&&([_,h]=Vt(g,!0),y.addEventListener("progress",_)),m&&y.upload&&([c,p]=Vt(m),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=E=>{y&&(o(!E||E.type?new zt(null,r,y):E),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=Un(s.url);if(v&&ht.protocols.indexOf(v)===-1){o(new et("Unsupported protocol "+v+":",et.ERR_BAD_REQUEST,r));return}y.send(i||null)})},qn=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let o=new AbortController,s;const i=function(g){if(!s){s=!0,a();const d=g instanceof Error?g:this.reason;o.abort(d instanceof et?d:new zt(d instanceof Error?d.message:d))}};let n=e&&setTimeout(()=>{n=null,i(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const a=()=>{r&&(n&&clearTimeout(n),n=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(i):g.removeEventListener("abort",i)}),r=null)};r.forEach(g=>g.addEventListener("abort",i));const{signal:m}=o;return m.unsubscribe=()=>O.asap(a),m}},Vn=qn,Gn=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let o=0,s;for(;o<t;)s=o+e,yield r.slice(o,s),o=s},Kn=async function*(r,e){for await(const t of $n(r))yield*Gn(t,e)},$n=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},ze=(r,e,t,o)=>{const s=Kn(r,e);let i=0,n,a=m=>{n||(n=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:g,value:d}=await s.next();if(g){a(),m.close();return}let c=d.byteLength;if(t){let _=i+=c;t(_)}m.enqueue(new Uint8Array(d))}catch(g){throw a(g),g}},cancel(m){return a(m),s.return()}},{highWaterMark:2})},ee=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",or=ee&&typeof ReadableStream=="function",Xn=ee&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ar=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Jn=or&&ar(()=>{let r=!1;const e=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Be=64*1024,fe=or&&ar(()=>O.isReadableStream(new Response("").body)),Gt={stream:fe&&(r=>r.body)};ee&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gt[e]&&(Gt[e]=O.isFunction(r[e])?t=>t[e]():(t,o)=>{throw new et(`Response type '${e}' is not supported`,et.ERR_NOT_SUPPORT,o)})})})(new Response);const Yn=async r=>{if(r==null)return 0;if(O.isBlob(r))return r.size;if(O.isSpecCompliantForm(r))return(await new Request(ht.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(O.isArrayBufferView(r)||O.isArrayBuffer(r))return r.byteLength;if(O.isURLSearchParams(r)&&(r=r+""),O.isString(r))return(await Xn(r)).byteLength},Qn=async(r,e)=>{const t=O.toFiniteNumber(r.getContentLength());return t??Yn(e)},ti=ee&&(async r=>{let{url:e,method:t,data:o,signal:s,cancelToken:i,timeout:n,onDownloadProgress:a,onUploadProgress:m,responseType:g,headers:d,withCredentials:c="same-origin",fetchOptions:_}=sr(r);g=g?(g+"").toLowerCase():"text";let p=Vn([s,i&&i.toAbortSignal()],n),h;const u=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(m&&Jn&&t!=="get"&&t!=="head"&&(y=await Qn(d,o))!==0){let S=new Request(e,{method:"POST",body:o,duplex:"half"}),U;if(O.isFormData(o)&&(U=S.headers.get("content-type"))&&d.setContentType(U),S.body){const[F,M]=Re(y,Vt(Te(m)));o=ze(S.body,Be,F,M)}}O.isString(c)||(c=c?"include":"omit");const b="credentials"in Request.prototype;h=new Request(e,{..._,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:o,duplex:"half",credentials:b?c:void 0});let v=await fetch(h);const E=fe&&(g==="stream"||g==="response");if(fe&&(a||E&&u)){const S={};["status","statusText","headers"].forEach(I=>{S[I]=v[I]});const U=O.toFiniteNumber(v.headers.get("content-length")),[F,M]=a&&Re(U,Vt(Te(a),!0))||[];v=new Response(ze(v.body,Be,F,()=>{M&&M(),u&&u()}),S)}g=g||"text";let C=await Gt[O.findKey(Gt,g)||"text"](v,r);return!E&&u&&u(),await new Promise((S,U)=>{nr(S,U,{data:C,headers:_t.from(v.headers),status:v.status,statusText:v.statusText,config:r,request:h})})}catch(b){throw u&&u(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,r,h),{cause:b.cause||b}):et.from(b,b&&b.code,r,h)}}),de={http:hn,xhr:Zn,fetch:ti};O.forEach(de,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Fe=r=>`- ${r}`,ei=r=>O.isFunction(r)||r===null||r===!1,lr={getAdapter:r=>{r=O.isArray(r)?r:[r];const{length:e}=r;let t,o;const s={};for(let i=0;i<e;i++){t=r[i];let n;if(o=t,!ei(t)&&(o=de[(n=String(t)).toLowerCase()],o===void 0))throw new et(`Unknown adapter '${n}'`);if(o)break;s[n||"#"+i]=o}if(!o){const i=Object.entries(s).map(([a,m])=>`adapter ${a} `+(m===!1?"is not supported by the environment":"is not available in the build"));let n=e?i.length>1?`since :
`+i.map(Fe).join(`
`):" "+Fe(i[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return o},adapters:de};function oe(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new zt(null,r)}function Ie(r){return oe(r),r.headers=_t.from(r.headers),r.data=se.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),lr.getAdapter(r.adapter||ye.adapter)(r).then(function(o){return oe(r),o.data=se.call(r,r.transformResponse,o),o.headers=_t.from(o.headers),o},function(o){return rr(o)||(oe(r),o&&o.response&&(o.response.data=se.call(r,r.transformResponse,o.response),o.response.headers=_t.from(o.response.headers))),Promise.reject(o)})}const ur="1.9.0",re={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{re[r]=function(o){return typeof o===r||"a"+(e<1?"n ":" ")+r}});const De={};re.transitional=function(e,t,o){function s(i,n){return"[Axios v"+ur+"] Transitional option '"+i+"'"+n+(o?". "+o:"")}return(i,n,a)=>{if(e===!1)throw new et(s(n," has been removed"+(t?" in "+t:"")),et.ERR_DEPRECATED);return t&&!De[n]&&(De[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,n,a):!0}};re.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function ri(r,e,t){if(typeof r!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let s=o.length;for(;s-- >0;){const i=o[s],n=e[i];if(n){const a=r[i],m=a===void 0||n(a,i,r);if(m!==!0)throw new et("option "+i+" must be "+m,et.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new et("Unknown option "+i,et.ERR_BAD_OPTION)}}const Zt={assertOptions:ri,validators:re},kt=Zt.validators;class Kt{constructor(e){this.defaults=e||{},this.interceptors={request:new Ae,response:new Ae}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?i&&!String(o.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+i):o.stack=i}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ct(this.defaults,t);const{transitional:o,paramsSerializer:s,headers:i}=t;o!==void 0&&Zt.assertOptions(o,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),s!=null&&(O.isFunction(s)?t.paramsSerializer={serialize:s}:Zt.assertOptions(s,{encode:kt.function,serialize:kt.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zt.assertOptions(t,{baseUrl:kt.spelling("baseURL"),withXsrfToken:kt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=i&&O.merge(i.common,i[t.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),t.headers=_t.concat(n,i);const a=[];let m=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(t)===!1||(m=m&&u.synchronous,a.unshift(u.fulfilled,u.rejected))});const g=[];this.interceptors.response.forEach(function(u){g.push(u.fulfilled,u.rejected)});let d,c=0,_;if(!m){const h=[Ie.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,g),_=h.length,d=Promise.resolve(t);c<_;)d=d.then(h[c++],h[c++]);return d}_=a.length;let p=t;for(c=0;c<_;){const h=a[c++],u=a[c++];try{p=h(p)}catch(y){u.call(this,y);break}}try{d=Ie.call(this,p)}catch(h){return Promise.reject(h)}for(c=0,_=g.length;c<_;)d=d.then(g[c++],g[c++]);return d}getUri(e){e=Ct(this.defaults,e);const t=ir(e.baseURL,e.url,e.allowAbsoluteUrls);return Qe(t,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){Kt.prototype[e]=function(t,o){return this.request(Ct(o||{},{method:e,url:t,data:(o||{}).data}))}});O.forEach(["post","put","patch"],function(e){function t(o){return function(i,n,a){return this.request(Ct(a||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}Kt.prototype[e]=t(),Kt.prototype[e+"Form"]=t(!0)});const qt=Kt;class be{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const o=this;this.promise.then(s=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](s);o._listeners=null}),this.promise.then=s=>{let i;const n=new Promise(a=>{o.subscribe(a),i=a}).then(s);return n.cancel=function(){o.unsubscribe(i)},n},e(function(i,n,a){o.reason||(o.reason=new zt(i,n,a),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new be(function(s){e=s}),cancel:e}}}const ni=be;function ii(r){return function(t){return r.apply(null,t)}}function si(r){return O.isObject(r)&&r.isAxiosError===!0}const he={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(he).forEach(([r,e])=>{he[e]=r});const oi=he;function cr(r){const e=new qt(r),t=Me(qt.prototype.request,e);return O.extend(t,qt.prototype,e,{allOwnKeys:!0}),O.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return cr(Ct(r,s))},t}const ct=cr(ye);ct.Axios=qt;ct.CanceledError=zt;ct.CancelToken=ni;ct.isCancel=rr;ct.VERSION=ur;ct.toFormData=Qt;ct.AxiosError=et;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=ii;ct.isAxiosError=si;ct.mergeConfig=Ct;ct.AxiosHeaders=_t;ct.formToJSON=r=>er(O.isHTMLForm(r)?new FormData(r):r);ct.getAdapter=lr.getAdapter;ct.HttpStatusCode=oi;ct.default=ct;const Rt=ct;async function ai(r){return(await Rt.get(r,{responseType:"arraybuffer"})).data}function Ue(r,e){const t=new URL(e,new URL(r,"resolve://"));if(t.protocol==="resolve:"){const{pathname:o,search:s,hash:i}=t;return o+s+i}return t.toString()}function fr(r){return St.dirname(r)}function li(r){return St.basename(r)}function ui(r){return St.extname(r)}const ae={};async function mi(r,e){const t=new Ar;for(const s of e)if(s.assetType==="game.json")t.file(s.filename,s.value);else if(s.assetType==="script"||s.assetType==="text"){const i=t.folder(St.dirname(s.path));if(!i)continue;i.file(s.filename,s.value)}else if(s.assetType==="image"||s.assetType==="vector-image"){const i=t.folder(St.dirname(s.path));if(!i)continue;i.file(s.filename,s.blob,{binary:!0})}else if(s.assetType==="audio")try{const i=t.folder(St.dirname(s.path));if(!i)continue;for(const n of s.hint.extensions){const a=s.filename+n;ae[a]||(ae[a]=await ai(Mt(fr(s.uri),a))),i.file(a,ae[a],{binary:!0})}}catch(i){console.error(i)}else if(s.assetType==="binary"){const i=t.folder(St.dirname(s.path));if(!i)continue;i.file(s.filename,s.blob,{binary:!0})}const o=await t.generateAsync({type:"blob"});xr.saveAs(o,r)}const ci="1",fi=[{version:"3.20.2",name:"akashic-engine-standalone-3.20.2.js"}],Pe={version:ci,akashicEngineVersions:fi},gi=Symbol("useGameContext");function _i(){const r=({type:c,name:_,message:p})=>{d.consoleValues.unshift({type:c,name:_,message:p})};function e(c){r({type:"error",name:c.toString(),message:c.message})}function t(c){r({type:"error",name:c.toString(),message:c.reason})}const o=c=>{const _=c;_.removeEventListener("error",e),_.addEventListener("error",e),_.removeEventListener("unhandledrejection",t),_.addEventListener("unhandledrejection",t)},s=()=>{d.consoleValues.splice(0,d.consoleValues.length),d.consoleValues.push({type:"info",name:"TODO",message:"This console only showing error log"})},i=c=>{d.canvas=c};let n=null;const a=async(c,_,p)=>{if(console.log("game.json",c),!c)throw new Error("Game Configuration not given");if(!d.canvas)throw new Error("canvas not found");if(!d.currentVersion)throw new Error("no currentVersion");n&&(n(),n=null),s(),await g(d.currentVersion),n=AE.initialize({canvas:d.canvas,configuration:c,assetBaseDir:p??void 0,assetLoaderFuncs:{loadScriptAsset:(h,u,y)=>{const b=_.find(v=>v.assetType==="script"&&v.id===h);b&&b.assetType==="script"?y(null,b.value):y(new Error(`script asset (id: "${u}") was not found`),void 0)}}}),d.running=!0},m=()=>{n&&(n(),n=null),d.running=!1},g=c=>new Promise((_,p)=>{const h=document.getElementsByTagName("head")[0],u=document.createElement("script"),y="aks-engine-elem",b=d.versions.akashicEngineVersions.find(E=>E.version===c);if(!b){p(new Error(`version ${c} not found`));return}const v=`engine/${b.name}`;u.setAttribute("src",v),u.setAttribute("id",y),h.appendChild(u),u.onerror=E=>{h.removeChild(u),p(E)},u.onload=function(){h.removeChild(u),_()}}),d=Le({running:!1,consoleValues:[],canvas:null,currentVersion:Pe.akashicEngineVersions[0].version,versions:Pe,handleErrors:o,requireEngineJS:g,setCanvas:i,clearConsole:s,addConsole:r,run:a,stop:m});return s(),vr(()=>{m()}),d}const yi=Symbol("useGameJSONResolver");function bi(){const r=async c=>(await Rt.get(c,{responseType:"json"})).data,e=async c=>{const _=await r(c);return t(_,fr(c))},t=async(c,_)=>{const p={...c.assets},h=Object.keys(p).map(E=>({id:E,...p[E]})),u="http://127.0.0.1",y=Ue(u,c.main),b=h.find(E=>Ue(u,E.path)===y),v=(await Promise.all(h.map(E=>o(E.id,E,_)))).sort((E,C)=>{const S=["script","text","image","vector-image","audio","binary","unknown"];return S.indexOf(E.assetType)-S.indexOf(C.assetType)});if(c.globalScripts){const E=g(c.globalScripts),C=await Promise.all(E.map(S=>o(S.assetId,S,_)));v.push(...C)}if(v.unshift({assetType:"game.json",name:"game.json",filename:"game.json",editorType:"text",uri:Mt(_,"game.json"),path:"game.json",language:"json",value:JSON.stringify(c,void 0,2)}),console.log("=== resolved game.json ==="),console.log("  - game.json",c),console.log("  - pseudoFiles",v),c.title&&(d.title=c.title),c.description&&(d.description=c.description),d.pseudoFiles.splice(0,d.pseudoFiles.length),d.pseudoFiles.push(...v),d.entryAssetUri=b?Mt(_,b.path):null,d.title=c.title,d.description=c.description,d.assetBase=_,d.moduleMainScripts={...c.moduleMainScripts},d.width=c.width,d.height=c.height,d.fps=c.fps||30,d.dependencies=["g","@akashic/trigger","@akashic/playlog","@akashic/pdi-types"],c.moduleMainScripts){const E=Object.keys(c.moduleMainScripts);d.dependencies.push(...E)}},o=async(c,_,p)=>{const h=Mt(p,_.path),u=li(_.path),y=!!_.global;if(_.type==="script"){const b=await(await Rt.get(h,{responseType:"text"})).data,v=_.path===c,E=v,C=v;return{id:c,name:c,uri:h,assetType:_.type,editorType:"text",path:_.path,filename:u,language:"javascript",value:b,global:y,hidden:E,readOnly:C}}else if(_.type==="text"){const v=(await Rt.get(h,{responseType:"text"})).data;return{id:c,name:c,uri:h,assetType:_.type,editorType:"text",path:_.path,filename:u,language:ui(h)===".json"?"json":"text",value:v,global:y}}else if(_.type==="image"||_.type==="vector-image"){const b=(await Rt.get(h,{responseType:"blob"})).data;return{id:c,name:c,uri:h,assetType:_.type,editorType:"image",path:_.path,filename:u,blob:b,width:_.width,height:_.height,hint:_.hint,global:y}}else if(_.type==="audio"){const b=_.hint?{..._.hint}:{extensions:void 0};return b.extensions??(b.extensions=[".ogg",".aac"]),{id:c,name:c,uri:h,assetType:_.type,editorType:"audio",path:_.path,filename:u,duration:_.duration||0,hint:b,systemId:_.systemId,loop:!!_.loop,global:y}}else if(_.type==="binary"){const b=(await Rt.get(h,{responseType:"blob"})).data;return{id:c,name:c,uri:h,assetType:_.type,editorType:"binary",path:_.path,filename:u,blob:b,global:y}}else return{id:c,uri:h,name:c,filename:u,assetType:"unknown",editorType:"unknown",path:_.path,global:y}},s=c=>{c&&(d.width=c.width,d.height=c.height,d.fps=c.fps||30);const _={width:d.width,height:d.height,fps:d.fps,main:"",assets:{},moduleMainScripts:d.moduleMainScripts};for(let p=0;p<d.pseudoFiles.length;p++){const h=d.pseudoFiles[p];if(h.assetType==="script")_.assets[h.id]={type:"script",path:h.path,global:h.global},d.entryAssetUri===h.uri&&(_.main="./"+h.path);else if(h.assetType==="text")_.assets[h.id]={type:"text",path:h.path,global:h.global};else if(h.assetType==="image")_.assets[h.id]={type:"image",path:h.path,width:h.width,height:h.height,hint:h.hint,global:h.global};else if(h.assetType==="vector-image")_.assets[h.id]={type:"vector-image",path:h.path,width:h.width,height:h.height,hint:h.hint,global:h.global};else if(h.assetType==="audio"){const u=h.hint?{...h.hint}:{extensions:void 0};u.extensions??(u.extensions=[".ogg",".aac"]),_.assets[h.id]={type:"audio",path:h.path,duration:h.duration,systemId:h.systemId,hint:u,global:h.global}}else h.assetType==="binary"&&(_.assets[h.id]={type:"binary",path:h.path,global:h.global})}return di(_)},i=async(c,_,p)=>{const h=await o(c,_,p);d.pseudoFiles.push(h)},n=c=>{d.pseudoFiles.some((_,p)=>{if(_.assetType!=="game.json"&&_.id===c)return d.pseudoFiles.splice(p,1),!0})},a=async(c,_,p)=>{d.moduleMainScripts[c]=_[0];const h=g(_);for(const u of h)await i(u.assetId,u,p);d.dependencies.indexOf(c)===-1&&d.dependencies.push(c)},m=(c,_)=>{delete d.moduleMainScripts[c];for(const h of _)n(h);const p=d.dependencies.indexOf(c);p!==-1&&d.dependencies.splice(p,1)},g=c=>c.map(_=>({type:"script",assetId:_,path:_,global:!0})),d=Le({width:320,height:320,fps:30,pseudoFiles:[],entryAssetUri:null,assetBase:null,title:void 0,description:void 0,moduleMainScripts:{},dependencies:[],getGameJSONFromUri:r,fetchPseudoFilesFromUri:e,fetchPseudoFilesFromGameJSON:t,generateGameJSON:s,addAsset:i,removeAsset:n,addExtraModule:a,removeExtraModule:m});return d}function di(r){if(r.globalScripts&&r.globalScripts.length){for(let e=0;e<r.globalScripts.length;e++)r.assets[r.globalScripts[e]]={type:"script",path:r.globalScripts[e],global:!0};delete r.globalScripts}return r}export{pi as B,_i as a,gi as b,yi as c,mi as d,fr as e,li as f,Rt as g,bi as u};
