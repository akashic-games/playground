import{d as C,p as _,j as N,c as r,g as l,a as e,n as g,l as v,v as f,b as d,u as y,o as i,h as w,i as P,_ as S}from"./index-90f9ae1b.js";import{u as T,a as k,A as B,D as F,c as x,b as G,G as D}from"./GameController-ef4f8299.js";const h=c=>(w("data-v-7f4af7c1"),c=c(),P(),c),J={class:"snippet-page-container"},O=h(()=>e("span",{class:"text"},"コードを実行",-1)),A=h(()=>e("span",{class:"icon"},[e("i",{class:"material-icons md-120"},"play_arrow")],-1)),E=[O,A],I={key:1,class:"container-page-tab"},R={class:"container-agv"},U={class:"container-editor"},V={key:2,class:"container-download"},j=C({__name:"SnippetPage",props:{gameJsonUri:{},name:{},autoplay:{type:Boolean,default:!1},showDownloadButton:{type:Boolean,default:!0},showTab:{type:Boolean,default:!0}},setup(c){const o=c,a=T(),p=k();_(x,a),_(G,p);const s=N({currentPageTabName:"code",ready:o.autoplay,processingAsZip:!1}),u=async()=>{await a.fetchPseudoFilesFromUri(o.gameJsonUri);const t=a.pseudoFiles.find(({assetType:n})=>n==="game.json");p.run(a.generateGameJSON(t&&t.editorType==="text"?JSON.parse(t.value):void 0),a.pseudoFiles,a.assetBase),s.currentPageTabName="game",s.ready=!0},m=t=>{s.currentPageTabName=t};return o.autoplay&&u(),(t,n)=>(i(),r("div",J,[s.ready?l("",!0):(i(),r("div",{key:0,class:"container-overlay pointer",onClick:u},E)),o.showTab?(i(),r("div",I,[e("ul",null,[e("li",{class:g(["page-tab",{active:s.currentPageTabName==="code"}])},[e("a",{onClick:n[0]||(n[0]=b=>m("code"))},"CODE")],2),e("li",{class:g(["page-tab",{active:s.currentPageTabName==="game"}])},[e("a",{onClick:n[1]||(n[1]=b=>m("game"))},"GAME")],2)])])):l("",!0),v(e("div",R,[d(D,{ref:"gameContollerRef"},null,512)],512),[[f,s.currentPageTabName==="game"]]),v(e("div",U,[d(B,{pseudoFiles:y(a).pseudoFiles},null,8,["pseudoFiles"])],512),[[f,s.currentPageTabName==="code"]]),o.showDownloadButton?(i(),r("div",V,[d(F,{pseudoFiles:y(a).pseudoFiles,name:o.name+"."+Date.now()},null,8,["pseudoFiles","name"])])):l("",!0)]))}});const z=S(j,[["__scopeId","data-v-7f4af7c1"],["__file","SnippetPage.vue"]]);export{z as default};
